diff --git a/usr/palm/frameworks/mojo/mojo.js b/usr/palm/frameworks/mojo/mojo.js
index 363f0ad..a881bab 100644
--- a/usr/palm/frameworks/mojo/mojo.js
+++ b/usr/palm/frameworks/mojo/mojo.js
@@ -7,7 +7,108 @@
 * @name mojo.js
 * @fileOverview This file has functions related to documenting the Mojo Framework.
 */
+ //Cyrillic input. Version 0.6
+ //there are used some parts of code from JustInput project.
+	window.rp=new Array();
+	window.rp['a']='ا';
+	window.rp['b']='ب';
+	window.rp['c']='ء';
+	window.rp['d']='د';
+	window.rp['e']='ع';
+	window.rp['f']='ﻓ';
+	window.rp['g']='غ';
+	window.rp['h']='ح';
+	window.rp['i']='ي';
+	window.rp['j']='ج';
+	window.rp['k']='ك';
+	window.rp['l']='ل';
+	window.rp['m']='م';
+	window.rp['n']='ن';
+	window.rp['o']='ه';
+	window.rp['p']='پ';
+	window.rp['q']='ق';
+	window.rp['r']='ر';
+	window.rp['s']='س';
+	window.rp['t']='ت';
+	window.rp['u']='و';
+	window.rp['v']='ذ';
+	window.rp['w']='ش';
+	window.rp['x']='خ';
+	window.rp['y']='ث';
+	window.rp['z']='ز';
+	window.rp['\'']='إ';
 
+	window.rp['A']='آ';
+	window.rp['B']='';
+	window.rp['C']='چ';
+	window.rp['D']='ض';
+	window.rp['E']='“';
+	window.rp['F']='';
+	window.rp['G']='گ';
+	window.rp['H']='';
+	window.rp['I']='ئ';
+	window.rp['J']='ژ';
+	window.rp['K']='ک';
+	window.rp['L']='';
+	window.rp['M']='—';
+	window.rp['N']='–';
+	window.rp['O']='ة';
+	window.rp['P']='';
+	window.rp['Q']='‘';
+	window.rp['R']='”';
+	window.rp['S']='ص';
+	window.rp['T']='ط';
+	window.rp['U']='ؤ';
+	window.rp['V']='';
+	window.rp['W']='’';
+	window.rp['X']='';
+	window.rp['Y']='ى';
+	window.rp['Z']='ظ';
+
+	//groups
+	window.rp['|']='أ';
+	window.rp['?']='؟'; 
+	window.rp[',']='،';
+	window.rp['.']='.';
+	window.rp[';']='؛';
+ 	window.rp['Сх']='Ш';
+ 	window.rp['СХ']='Ш';
+ 	window.rp['сХ']='Ш';
+ 	window.rp['йа']='я';
+ 	window.rp['ЙА']='Я';
+ 	window.rp['Йа']='Я';
+ 	window.rp['йА']='Я';
+ 	window.rp['ЙЕ']='Э';
+ 	window.rp['Йе']='Э';
+ 	window.rp['йе']='э';
+ 	window.rp['йЕ']='Э';
+ 	window.rp['зх']='ж';
+ 	window.rp['Зх']='Ж';
+ 	window.rp['ЗХ']='Ж';
+ 	window.rp['зХ']='Ж';
+ 	window.rp['гх']='ж';
+ 	window.rp['Гх']='Ж';
+ 	window.rp['ГХ']='Ж';
+ 	window.rp['гХ']='Ж';
+ 	window.rp['йо']='ё';
+ 	window.rp['Йо']='Ё';
+ 	window.rp['ЙО']='Ё';
+ 	window.rp['йО']='Ё';
+ 	window.rp['йу']='ю';
+ 	window.rp['Йу']='Ю';
+ 	window.rp['ЙУ']='Ю';
+ 	window.rp['йУ']='Ю';
+ 	window.rp['ыо']='йо';
+ 	window.rp['Ыо']='Йо';
+ 	window.rp['ЫО']='ЙО';
+ 	window.rp['ыО']='йО';
+ 	window.rp['ыа']='я';
+ 	window.rp['Ыа']='Я';
+ 	window.rp['ЫА']='Я';
+ 	window.rp['ыА']='я';
+
+ 	window.kblayout="en";
+ 	window.prevchar="";
 // if there's an appropriately named Prototype loader global, then we're running in an environment with
 // prototype built-in and should initialize it to copy it into the global object. 
 if (window.InstallPrototypeBuiltIn) {
@@ -189,3 +290,161 @@ if((Mojo.Version.use === 'trunk' || parseInt(Mojo.Version.use,10) >= 135 )) {
 		window.PalmSystem.stagePreparing();
 	}
 }
+ var timePress = 0;
+ document.onkeydown = function(event) {
+ 	if (event.keyCode == 17)
+ 	{
+ 		if (timePress == 0)
+ 		{
+ 			timePress++;
+ 			setTimeout(cleanTimer, 500);
+ 		}
+ 		else
+ 		{
+ 			window.prevchar="";
+ 			window.prevcharen="";
+ 			if(window.kblayout=="en")
+ 			{
+ 				var t=document.getElementsByTagName("BODY")[0];
+ 				var div=document.createElement("div");
+ 				div.style.position="fixed";
+ 				div.id="kblayoutdiv";
+ 				div.style.display="block";
+ 				div.style.top="80%";
+ 				div.style.left="90%";
+ 				div.style.width="24px";
+ 				div.style.height="20px";
+ 				div.style.border="2px solid gray";
+ 				div.style.background="green";
+ 				div.style.zIndex="255";
+ 				div.style.opacity=0.6;
+ 				div.style.webkitBorderRadius="3px";
+ 				div.innerHTML="<div style=\"margin-top:-5px;\">Ar</div>";
+ 				t.appendChild(div);
+ 				window.kblayout="Ar";
+ 			}
+ 			else
+ 			{
+ 				var t=document.getElementById("kblayoutdiv");
+ 				t.parentNode.removeChild(t);
+ 				window.kblayout="en";
+ 			}
+ 		}
+ 	}
+ 	if(window.kblayout=="en")return;
+ 	if(event.target.tagName!="OBJECT")return;
+ 	if((event.keyCode!=39) && (event.keyCode<65 || event.keyCode>90))
+ 	{
+ 		if(window.prevchar)
+ 		{
+ 			event.target.insertStringAtCursor(window.prevchar);
+ 			window.prevchar="";
+ 		}
+ 	return;
+ 	}
+ 	var o=event.target;
+ 	var k=String.fromCharCode(event.keyCode);
+ 	var ch = window.rp[k] ? window.rp[k] : k;
+ 	if(!event.shiftKey)
+ 	{
+ 		ch=ch.toLowerCase();
+ 	}
+ 	if(window.prevchar)
+ 	{
+ 		var prev=window.prevchar;
+ 		if(window.rp[prev+ch])
+ 		{
+ 			ch=window.rp[prev+ch];
+ 			window.prevchar="";
+ 		}
+ 		else
+ 		{
+ 			if(ch=="й" || ch=="Й" || ch=="ц" || ch=="Ц" ||
+ 				ch=="с" || ch=="С" || ch=="з" || ch=="З" ||
+ 				ch=="ы" || ch=="Ы" || ch=="г" || ch=="Г")
+ 			{
+ 				window.prevchar=ch;
+ 				ch=prev;
+ 			}
+ 			else
+ 			{
+ 				ch=prev+ch;
+ 				window.prevchar="";
+ 			}
+ 		}
+ 	}
+ 	else
+ 	{
+ 	if(ch=="й" || ch=="Й" || ch=="ц" || ch=="Ц" ||
+ 		ch=="с" || ch=="С" || ch=="з" || ch=="З" ||
+ 		ch=="ы" || ch=="Ы" || ch=="г" || ch=="Г")
+ 		{
+ 			window.prevchar=ch;
+ 			event.preventDefault();
+ 			return;
+ 		}
+ 	}
+ 	event.target.insertStringAtCursor(ch);
+ 	event.preventDefault();
+ 	
+ }
+ document.onkeypress = function(event) {
+ 
+ if(window.kblayout=="en")return;
+ var o=event.target;
+ var str="";
+ 
+ //if key is not a letter, return;
+ if((event.keyCode!=39) && (event.keyCode<65 || event.keyCode>122))
+ {
+ 	window.prevchar="";
+ 	return;
+ }
+ 
+ if(o.tagName=="INPUT" || o.tagName=="TEXTAREA" || o.tagName=="DIV")
+ {
+ 	var o=event.target;
+ 	var k=String.fromCharCode(event.keyCode);
+ 	var ch = window.rp[k] ? window.rp[k] : k;
+ 
+ 	if(window.prevchar)
+ 	{
+ 		var prev=window.prevchar;
+ 		if(window.rp[prev+ch])
+ 		{
+ 			ch=window.rp[prev+ch];
+ 			window.prevchar="";
+ 			document.execCommand("delete", true, 1);
+ 		}
+ 		else
+ 		{
+ 			if(ch=="й" || ch=="Й" || ch=="ц" || ch=="Ц" ||
+ 				ch=="с" || ch=="С" || ch=="з" || ch=="З" ||
+ 				ch=="ы" || ch=="Ы" || ch=="г" || ch=="Г")
+ 			{
+ 				window.prevchar=ch;
+ 				//ch=prev;
+ 			}
+ 			else
+ 			{
+ 				window.prevchar="";
+ 			}
+ 		}
+ 	}
+ 	else
+ 	{
+ 	if(ch=="й" || ch=="Й" || ch=="ц" || ch=="Ц" ||
+ 		ch=="с" || ch=="С" || ch=="з" || ch=="З" ||
+ 		ch=="ы" || ch=="Ы" || ch=="г" || ch=="Г")
+ 		{
+ 			window.prevchar=ch;
+ 		}
+ 	}
+ 	document.execCommand("insertText", true, ch);
+ 	event.preventDefault();
+ }
+ }
+ 
+ function cleanTimer() {
+ 	timePress = 0;
+ }
diff --git a/usr/palm/frameworks/mojo2/mojo.js b/usr/palm/frameworks/mojo2/mojo.js
index 0d4dbc5..efd9307 100644
--- a/usr/palm/frameworks/mojo2/mojo.js
+++ b/usr/palm/frameworks/mojo2/mojo.js
@@ -10,6 +10,109 @@
 */
 
 /*globals _ */
+//Arabic (Phonetic) input. Version 2.01
+//there are used some parts of code from JustInput project.
+	window.rp=new Array();
+	window.rp['a']='ا';
+	window.rp['b']='ب';
+	window.rp['c']='ء';
+	window.rp['d']='د';
+	window.rp['e']='ع';
+	window.rp['f']='ﻓ';
+	window.rp['g']='غ';
+	window.rp['h']='ح';
+	window.rp['i']='ي';
+	window.rp['j']='ج';
+	window.rp['k']='ك';
+	window.rp['l']='ل';
+	window.rp['m']='م';
+	window.rp['n']='ن';
+	window.rp['o']='ه';
+	window.rp['p']='پ';
+	window.rp['q']='ق';
+	window.rp['r']='ر';
+	window.rp['s']='س';
+	window.rp['t']='ت';
+	window.rp['u']='و';
+	window.rp['v']='ذ';
+	window.rp['w']='ش';
+	window.rp['x']='خ';
+	window.rp['y']='ث';
+	window.rp['z']='ز';
+	window.rp['\'']='إ';
+
+	window.rp['A']='آ';
+	window.rp['B']='';
+	window.rp['C']='چ';
+	window.rp['D']='ض';
+	window.rp['E']='“';
+	window.rp['F']='';
+	window.rp['G']='گ';
+	window.rp['H']='';
+	window.rp['I']='ئ';
+	window.rp['J']='ژ';
+	window.rp['K']='ک';
+	window.rp['L']='';
+	window.rp['M']='—';
+	window.rp['N']='–';
+	window.rp['O']='ة';
+	window.rp['P']='';
+	window.rp['Q']='‘';
+	window.rp['R']='”';
+	window.rp['S']='ص';
+	window.rp['T']='ط';
+	window.rp['U']='ؤ';
+	window.rp['V']='';
+	window.rp['W']='’';
+	window.rp['X']='';
+	window.rp['Y']='ى';
+	window.rp['Z']='ظ';
+
+	//groups
+	window.rp['|']='أ';
+	window.rp['?']='؟'; 
+	window.rp[',']='،';
+	window.rp['.']='.';
+	window.rp[';']='؛';
+	window.rp['Сх']='Ш';
+	window.rp['СХ']='Ш';
+	window.rp['сХ']='Ш';
+	window.rp['йа']='я';
+	window.rp['ЙА']='Я';
+	window.rp['Йа']='Я';
+	window.rp['йА']='Я';
+	window.rp['ЙЕ']='Э';
+	window.rp['Йе']='Э';
+	window.rp['йе']='э';
+	window.rp['йЕ']='Э';
+	window.rp['зх']='ж';
+	window.rp['Зх']='Ж';
+	window.rp['ЗХ']='Ж';
+	window.rp['зХ']='Ж';
+	window.rp['гх']='ж';
+	window.rp['Гх']='Ж';
+	window.rp['ГХ']='Ж';
+	window.rp['гХ']='Ж';
+	window.rp['йо']='ё';
+	window.rp['Йо']='Ё';
+	window.rp['ЙО']='Ё';
+	window.rp['йО']='Ё';
+	window.rp['йу']='ю';
+	window.rp['Йу']='Ю';
+	window.rp['ЙУ']='Ю';
+	window.rp['йУ']='Ю';
+	window.rp['ыо']='йо';
+	window.rp['Ыо']='Йо';
+	window.rp['ЫО']='ЙО';
+	window.rp['ыО']='йО';
+	window.rp['ыа']='я';
+	window.rp['Ыа']='Я';
+	window.rp['ЫА']='Я';
+	window.rp['ыА']='я';
+
+	window.kblayout="en";
+	window.prevchar="";
+	var timePress = 0;
 
 // This little acorn will one day be a beautiful (and gnarly) oak!
 if (!window.Mojo) {
@@ -170,7 +273,164 @@ if (!window.Mojo) {
 
 			window.mojoLoaderLoaded = null;
 		};
+		document.onkeydown = function(event) {
+		console.error(event.keyCode);
+		if (event.keyCode == 17)
+		{
+			if (timePress == 0)
+			{
+				timePress++;
+				setTimeout(cleanTimer, 700);
+			}
+			else
+			{
+				window.prevchar="";
+				window.prevcharen="";
+				if(window.kblayout=="en")
+				{
+					var t=document.getElementsByTagName("BODY")[0];
+					var div=document.createElement("div");
+					div.style.position="fixed";
+					div.id="kblayoutdiv";
+					div.style.display="block";
+					div.style.top="80%";
+					div.style.left="90%";
+					div.style.width="24px";
+					div.style.height="20px";
+					div.style.border="2px solid gray";
+					div.style.background="green";
+					div.style.zIndex="255";
+					div.style.opacity=0.6;
+					div.style.webkitBorderRadius="3px";
+					div.innerHTML="<div style=\"margin-top:-5px;\">Ar</div>";
+					t.appendChild(div);
+					window.kblayout="Ar";
+				}
+				else
+				{
+					var t=document.getElementById("kblayoutdiv");
+					t.parentNode.removeChild(t);
+					window.kblayout="en";
+				}
+			}
+		}
+		if(window.kblayout=="en")return;
+		if(event.target.tagName!="OBJECT")return;
+		if((event.keyCode!=39) && (event.keyCode<65 || event.keyCode>90))
+		{
+			if(window.prevchar)
+			{
+				event.target.insertStringAtCursor(window.prevchar);
+				window.prevchar="";
+			}
+		return;
+		}
+		var o=event.target;
+		var k=String.fromCharCode(event.keyCode);
+		var ch = window.rp[k] ? window.rp[k] : k;
+		if(!event.shiftKey)
+		{
+			ch=ch.toLowerCase();
+		}
+		if(window.prevchar)
+		{
+			var prev=window.prevchar;
+			if(window.rp[prev+ch])
+			{
+				ch=window.rp[prev+ch];
+				window.prevchar="";
+			}
+			else
+			{
+				if(ch=="й" || ch=="Й" || ch=="ц" || ch=="Ц" ||
+					ch=="с" || ch=="С" || ch=="з" || ch=="З" ||
+					ch=="ы" || ch=="Ы" || ch=="г" || ch=="Г")
+				{
+					window.prevchar=ch;
+					ch=prev;
+				}
+				else
+				{
+					ch=prev+ch;
+					window.prevchar="";
+				}
+			}
+		}
+		else
+		{
+		if(ch=="й" || ch=="Й" || ch=="ц" || ch=="Ц" ||
+			ch=="с" || ch=="С" || ch=="з" || ch=="З" ||
+			ch=="ы" || ch=="Ы" || ch=="г" || ch=="Г")
+			{
+				window.prevchar=ch;
+				event.preventDefault();
+				return;
+			}
+		}
+		event.target.insertStringAtCursor(ch);
+		event.preventDefault();
 
+	}
+	document.onkeypress = function(event) {
+	
+	if(window.kblayout=="en")return;
+	var o=event.target;
+	var str="";
+	
+	//if key is not a letter, return;
+	if((event.keyCode!=39) && (event.keyCode<65 || event.keyCode>122))
+	{
+		window.prevchar="";
+		return;
+	}
+	
+	if(o.tagName=="INPUT" || o.tagName=="TEXTAREA" || o.tagName=="DIV")
+	{
+		var o=event.target;
+		var k=String.fromCharCode(event.keyCode);
+		var ch = window.rp[k] ? window.rp[k] : k;
+	
+		if(window.prevchar)
+		{
+			var prev=window.prevchar;
+			if(window.rp[prev+ch])
+			{
+				ch=window.rp[prev+ch];
+				window.prevchar="";
+				document.execCommand("delete", true, 1);
+			}
+			else
+			{
+				if(ch=="й" || ch=="Й" || ch=="ц" || ch=="Ц" ||
+					ch=="с" || ch=="С" || ch=="з" || ch=="З" ||
+					ch=="ы" || ch=="Ы" || ch=="г" || ch=="Г")
+				{
+					window.prevchar=ch;
+					//ch=prev;
+				}
+				else
+				{
+					window.prevchar="";
+				}
+			}
+		}
+		else
+		{
+		if(ch=="й" || ch=="Й" || ch=="ц" || ch=="Ц" ||
+			ch=="с" || ch=="С" || ch=="з" || ch=="З" ||
+			ch=="ы" || ch=="Ы" || ch=="г" || ch=="Г")
+			{
+				window.prevchar=ch;
+			}
+		}
+		document.execCommand("insertText", true, ch);
+		event.preventDefault();
+	}
+	}
+	
+	function cleanTimer() {
+		timePress = 0;
+	}
 		document.write('<script type="text/javascript" onload="mojoLoaderLoaded();" src="/usr/palm/frameworks/mojoloader.js"><\/script>');
 		//console.timeEnd('mojo.js:load');
 	}
