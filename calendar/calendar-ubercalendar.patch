diff --git a/usr/palm/applications/com.palm.app.calendar/app/controllers/app-assistant.js b/usr/palm/applications/com.palm.app.calendar/app/controllers/app-assistant.js
index 5375929..8bd6ffd 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/controllers/app-assistant.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/controllers/app-assistant.js
@@ -399,9 +399,9 @@ var AppAssistant = Class.create({
 		var reminder = getReminderManager().getReminder(eventId);
 		reminder.userClosed = false;
 		if (reminder.attendees.length > 1 /*now we include the organizer in attendee list*/)
-			height = 203;
+			height = 280; //203 orig; 74 + a couple to get more choices
 		else
-		  	height = 149;
+		  	height = 226; //149 orig;
 		
 		var needThrobbing =(hasNewContent || !isSnoozedReminder) ? true:false;
 		Mojo.Log.info("$$$$$$$$ AppAssistant doAlarm:createStageWithCallback for stage: "+this.createAlarmStageName(eventId)+", stage height is: "+height);
@@ -489,7 +489,15 @@ var AppAssistant = Class.create({
 			this.firstUseManager = new FirstUseManager(stageController);
 		} else {
 			// Otherwise show the Day View
-			stageController.pushScene({name: "day", transition: Mojo.Transition.crossFade, disableSceneScroller: true});
+			var view = "day";
+			var cookie = new Mojo.Model.Cookie("LastView");
+			try {
+				view = cookie.get();
+			} catch (e) {}
+			if ((view != "month") && (view != "week")) {
+				view = "day";
+			}
+			stageController.pushScene({name: view, transition: Mojo.Transition.crossFade, disableSceneScroller: true});
 		}
 	},
 	
@@ -863,7 +871,15 @@ function notifyTimeFormatObservers() {
 }
 
 function getTimeFormat() {
-	return getAppAssistant().timeFormat;
+	//if getAppAssistant is not valid yet return the default setting of this.timeFormat.
+	if(getAppAssistant() != undefined)
+	{
+		return getAppAssistant().timeFormat;
+	}
+	else
+	{
+		return this.timeFormat;
+	}
 }
 // **System  Time Change
 function observeTimeChange(sceneName, controller){
diff --git a/usr/palm/applications/com.palm.app.calendar/app/controllers/dashboard-assistant.js b/usr/palm/applications/com.palm.app.calendar/app/controllers/dashboard-assistant.js
index a667ac9..b87f7b0 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/controllers/dashboard-assistant.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/controllers/dashboard-assistant.js
@@ -24,7 +24,10 @@ var DashboardAssistant = Class.create({
 	cleanup: function() {
 		Mojo.Log.info("$$$$$$$$ Dashboard-assistant cleanup: start ");
 		this.reminders.stopObservingReminders('dashboard');
-		this.reminders.removeAllReminders();
+//Do not remove the scheduled reminders
+//This is so that if the dashboard event is swiped away the reminder is not removed
+//to support reminders that are far in the future but may not want the icon in the dashboard.
+//		this.reminders.removeAllReminders();
 		Mojo.Log.info("$$$$$$$$ Dashboard-assistant cleanup: end ");
 	},
 	
diff --git a/usr/palm/applications/com.palm.app.calendar/app/controllers/datetime-assistant.js b/usr/palm/applications/com.palm.app.calendar/app/controllers/datetime-assistant.js
index 1bc0374..8399fec 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/controllers/datetime-assistant.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/controllers/datetime-assistant.js
@@ -140,7 +140,511 @@ var DatetimeAssistant = Class.create({
                 break;
         }
     },
-    
+	
+	// From monthview (Feb is fixed up by hand as necessary)
+	// We try to avoid the DateJS stuff because it's indescribably slow.
+	_monthDays: [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ],
+	
+	rdayNames: function() {
+		var stday = 0;
+		if(this.startOfWeek==null || this.startOfWeek == 'undefined')
+			this.startOfWeek = 0;
+		stday = this.startOfWeek - 1;
+		var tday = new Date();
+		tday.moveToDayOfWeek(stday);
+		for (var i = 0; i < 7; i++) {
+			this._rdNames[i] = Mojo.Format.formatDate(tday, "E");
+			tday.addDays(1);
+		}
+	},
+	
+	radvanceWk: function(wk, month) {
+		var wkn = parseInt(wk, 10);
+		if((wkn > 8) && (wkn < 52)) {
+			return (wkn + 1);
+		} else if(wkn <= 8) {
+			wkn +=1;
+			var zd = '0';
+			return zd + wkn.toString();
+		} else if(wkn == 52 && month == 11) {
+			return 53;
+		} else if(wkn >= 52 && month == 0) {
+			var zd = '01';
+			return zd;
+		} else if (wkn == 53 && month == 11) {
+			var zd = '01';
+			return zd;
+		}
+	},
+	
+	// draw month function, expects numbers 0 based month
+	canvasRM: function(month, year, context) {
+		// date object
+		var rmon = new Date(year, month, 1);
+		
+		//setup number of days, 1st day(day of week), week number, number of weeks
+		var rd1dayOfMon = rmon.getDay();
+		var rwkNum = rmon.getISO8601Week();
+		var r1offset = rd1dayOfMon - (this.startOfWeek - 1);
+		if (r1offset < 0) {r1offset += 7;}  //num of days of prev mon
+		if(isLeapYear(year)) {
+			this._monthDays[1] = 29;
+		} else {
+			this._monthDays[1] = 28;
+		}
+		this.RM[context].maxdays = this._monthDays[month];		
+		//setup fonts and spacing
+		this.mthctx[context].fillStyle = "rgb(0, 0, 0)";
+		this.mthctx[context].font = "bold 14px Prelude";
+		this.mthctx[context].textAlign = "left";
+		this.mthctx[context].textBaseline = "top";
+		var top = 2;
+		var leftmargin = 2;
+		var left = 0 + leftmargin;
+		var txt = "";
+		this.colHW = 30;
+		var maxW = 30;
+		this.topCor = 42 + (this.colHW/2); //top margin + half-cell
+		this.leftCor = this.colHW;
+		this.RM[context].fstDayLidx = r1offset;
+		this.RM[context].fstDayTidx = 1;
+		// setup title and week header
+		var titleTxt = Mojo.Format.formatDate(rmon, $L("MMM yyyy"));
+		this.mthctx[context].strokeText(titleTxt, left + 90, top);
+		this.mthctx[context].textAlign = "center";
+		for (var i = 0; i < 7; i++) {
+			txt = this._rdNames[i];
+			left = (i * this.colHW) + this.leftCor + 13;//13 is for font &txt to ctr
+			top = 22;
+			this.mthctx[context].strokeText(txt, left, top);	
+		}
+		this.mthctx[context].fillStyle = "rgb(104, 104, 104)";
+		this.mthctx[context].font = "14px Prelude";
+		this.mthctx[context].textAlign = "left";
+		this.mthctx[context].textBaseline = "alphabetic";
+		for (var j = 0; j < 6; j++) {
+			txt = rwkNum;
+			left = leftmargin;
+			top = (j * this.colHW) + this.topCor + 3; // 3 is for font correction
+			this.mthctx[context].strokeText(txt, left, top);
+			rwkNum = this.radvanceWk(rwkNum, month);
+		}
+		//iterate through the date rows
+		var num = 1;
+		this.mthctx[context].fillStyle = "rgb(0, 0, 0)";
+		this.mthctx[context].font = "bold 14px Prelude";
+		this.mthctx[context].textAlign = "center";
+		for (var j=0; j<6; j++) {
+			if (num > this.RM[context].maxdays) {
+				break; }
+			top = (j * this.colHW) + this.topCor + 3;
+			for (var i=0; i<7; i++) {
+				if (j==0 && i ==0) {i = r1offset;}
+				txt = num;
+				left =  (i * this.colHW) + this.leftCor + 13;
+				this.mthctx[context].strokeText(txt, left, top);
+				num +=1;
+				if (num > this.RM[context].maxdays) {
+					break; }
+			}
+		}
+	},
+	
+	RMnextM: function(index) {
+		this.RM[index].month = this.RM[index - 1].month;
+		this.RM[index].year = this.RM[index - 1].year;
+		if(this.RM[index].month == 11) {
+			this.RM[index].month = 0;
+			this.RM[index].year += 1;
+		} else {
+			this.RM[index].month += 1;
+		}
+	},
+	
+	RMprevM: function(index) {
+		this.RM[index].month = this.RM[index + 1].month;
+		this.RM[index].year = this.RM[index + 1].year;
+		if(this.RM[index].month == 0) {
+			this.RM[index].month = 11;
+			this.RM[index].year -= 1;
+		} else {
+			this.RM[index].month -= 1;
+		}
+	},
+	
+	// determin calendar order for the canvas's
+	orderRM: function( stDate, eDate, isAllDay) {
+		//check first
+		if(stDate.getTime() > eDate.getTime) {
+			Mojo.Log.error ("start after end");
+			return;
+		}
+		for(var i=0; i<6; i++) {
+			this.RM[i] = {};
+			this.RM[i].month = "";
+			this.RM[i].year = "";
+			this.RM[i].fstDayLidx = 1;
+			this.RM[i].fstDayTidx = 1;
+			this.RM[i].maxdays = 1;
+		}
+		// date objects
+		var curD = new Date();
+		var curMY = {month: curD.getMonth(), year: curD.getFullYear() };
+		var stMY = {month: stDate.getMonth(), year: stDate.getFullYear() };
+		var eMY = {month: eDate.getMonth(), year: eDate.getFullYear() };
+		this.RMlast.duration = getTimePeriodParts(stDate, eDate, isAllDay);
+		var rwhen = {};
+		rwhen = getTimePeriodParts(curD, stDate, isAllDay);
+		var dura = this.RMlast.duration;
+		// determine duration case
+		if ( (dura.years == 0) && (((dura.months == 5) && (dura.days == 0)) || (dura.months < 5)) ) {
+			if ( (dura.months <=1) && ((rwhen.months <= 3) && (rwhen.years <=0)) ){
+				// we can fit in 6 months try to get today in the 6 months
+				if(curD.getTime() < stDate.getTime()) {
+					//close future start with curDate 
+					this.redlineSplit.setStyle({borderRight: '1px solid black'});
+					this.RM[0].month = curMY.month;
+					this.RM[0].year = curMY.year;
+					for (var i = 1; i < 6; i++) {
+						this.RMnextM(i);
+					}
+				} else {
+					// in close past start with stDate
+					this.redlineSplit.setStyle({borderRight: '1px solid black'});
+					this.RM[0].month = stMY.month;
+					this.RM[0].year = stMY.year;
+					for (var i = 1; i < 6; i++) {
+						this.RMnextM(i);
+					}
+				}
+			} else {
+				if((curD.getTime() < stDate.getTime()) && (((dura.months == 4) && (dura.days == 0) && (dura.years ==0)) || ((dura.months <4) && (dura.years==0)))){
+					// in 6 months, too far away for today, in future do prev 
+					this.redlineSplit.setStyle({borderRight: '1px solid black'});
+					this.RM[1].month = stMY.month;
+					this.RM[1].year = stMY.year;
+					this.RMprevM(0);
+					this.RMnextM(2);
+					this.RMnextM(3);
+					this.RMnextM(4);
+					this.RMnextM(5);
+				} else {
+					// in past or could be 6 cal months do start + 5
+					this.redlineSplit.setStyle({borderRight: '1px solid black'});
+					this.RM[0].month = stMY.month;
+					this.RM[0].year = stMY.year;
+					for (var i = 1; i < 6; i++) {
+						this.RMnextM(i);
+					}
+				}
+			}
+		} else { //duration won't fit in 6 months
+			if( ((stMY.year == curMY.year) && (stMY.month == curMY.month)) ||
+			  ((stMY.year < curMY.year) ||  ((stMY.year == curMY.year) && (stMY.month < curMY.month))) ){
+			//past or present month - do start + next + next redline split then -- prev + end + next
+				this.redlineSplit.setStyle({borderRight: '2px solid red'});
+				this.RM[0].month = stMY.month;
+				this.RM[0].year = stMY.year;
+				this.RMnextM(1);
+				this.RMnextM(2);
+				this.RM[4].month = eMY.month;
+				this.RM[4].year = eMY.year;
+				this.RMprevM(3);
+				this.RMnextM(5);
+			} else if((stMY.year > curMY.year) ||  ((stMY.year == curMY.year) && (stMY.month > curMY.month))) {
+			// future - do prev + start + next redline split prev + end + next
+				this.redlineSplit.setStyle({borderRight: '2px solid red'});
+				this.RM[1].month = stMY.month;
+				this.RM[1].year = stMY.year;
+				this.RMprevM(0);
+				this.RMnextM(2);
+				this.RM[4].month = eMY.month;
+				this.RM[4].year = eMY.year;
+				this.RMprevM(3);
+				this.RMnextM(5);
+			}
+		}	
+		// call canvasRM
+		for(var k=0; k<6; k++){
+			this.canvasRM(this.RM[k].month, this.RM[k].year, k);
+		}
+
+		// record for next time comparisons
+		this.RMlast.stMY = stMY;
+		this.RMlast.eMY = eMY;
+		this.RMlast.curMY = curMY;
+	},
+	
+	risRendered: function( year, month) {
+		for(var i=0; i<6; i++) {
+			if((this.RM[i].month == month) && (this.RM[i].year == year)) {
+				return i;
+			}
+		}
+		return -1;
+	},
+	
+	//mark days in calendar
+	markDay: function(rdate, imgsrc, color, rx, ry, rwt, rht) {
+		// determine which month, year, date
+		if (rdate instanceof Date == true) { 
+			var whatMn = rdate.getMonth();
+			var whatYr = rdate.getFullYear();
+			var whatDt = rdate.getDate();
+		} else if(rdate !== undefined) {
+			this.rtdate = new Date(rdate);
+			var whatMn = this.rtdate.getMonth();
+			var whatYr = this.rtdate.getFullYear();
+			var whatDt = this.rtdate.getDate();
+		}
+		var rmimgsrc = imgsrc;
+		var idx = this.risRendered(whatYr, whatMn);
+		if(idx == -1) { return; }
+		var fstDayLidx = this.RM[idx].fstDayLidx;
+		var fstDayTidx = this.RM[idx].fstDayTidx;
+		var rRow = Math.floor((whatDt + fstDayLidx -1) / 7);
+		var col = (whatDt + fstDayLidx - 1) % 7;
+		var itop = (rRow * this.colHW) + 40;
+		var ileft = (col * this.colHW) + this.colHW;
+		itop = (ry !== undefined) ? itop + ry : itop;
+		ileft = (rx !== undefined) ? ileft + rx : ileft;
+		if (rmimgsrc !== undefined) {
+			this.mthctx[idx].drawImage(rmimgsrc, ileft, itop, (rwt !== undefined)? rwt : this.colHW,(rht !== undefined)? rht : this.colHW);
+		} else if(color !== undefined) {
+			this.mthctx[idx].fillStyle = color;
+			this.mthctx[idx].fillRect(ileft, itop, this.colHW-2, this.colHW-2);
+		} else {
+			this.mthctx[idx].fillStyle = "rgba(232,227,124,0.5)";
+			this.mthctx[idx].fillRect(ileft, itop, this.colHW-2, this.colHW-2);
+		}
+	},
+	
+	rmMarkD: function() {
+		if(this.RMlast.duration.months > 7) {
+			return;
+		}
+		if((this.RMlast.stMY.month == this.RMlast.eMY.month) && (this.RMlast.stD.getDate() == this.RMlast.eD.getDate())) {
+			this.RMlast.HMDB = 1;
+			return;
+		}
+		var stTS = new Date(this.RMlast.stMY.year, this.RMlast.stMY.month, this.RMlast.stD.getDate(), 12).getTime();
+		var daylen = 3600000*24;
+		var end = howManyDaysBetween(this.RMlast.stD, this.RMlast.eD) +1;
+		this.RMlast.HMDB = end;
+		this.RMlast.stTS = stTS;
+		for (var z = 0; z < end; z++) {
+			this.markDay(stTS + (z*daylen),
+							this.dImg, 
+							null/*color*/,
+							null/*x adjust*/,
+							this.colHW-2/*y adjust*/ ,
+							this.colHW/*wd adjust*/,
+							2 /*ht adjust*/)
+		}
+	},
+	
+	rmRecur: function() {
+		// this function is after it is a known recurrent model
+		// time of when -- occuring each
+		var rcfrequency = this.targetEvent.rruleModel.frequency;
+		var rccount = this.targetEvent.rruleModel.count;
+		// this is week day names array
+		var rcbyday =  this.targetEvent.rruleModel.byday;
+		// this is the date of the month
+		var rcbymonthday = this.targetEvent.rruleModel.bymonthday;
+		// end day
+		var rcuntil = this.targetEvent.rruleModel.until;
+		// howmany times between
+		var rcint = this.targetEvent.rruleModel.interval;
+		// take stTS and duradays to create the base event from the curent event
+		var rcduraD = this.RMlast.HMDB;
+		var rcstTS = this.targetEvent.startTimestamp;
+		var rcstDy = new Date(rcstTS);
+		var rcstD = new Date(rcstDy.getFullYear(), rcstDy.getMonth(), rcstDy.getDate(), 12);
+		rcstTS = rcstD.getTime();
+		var stDoW = rcstD.getDay();
+		var dlen = 3600000*24;
+		var rcdaysofwk = [];
+		this.recTS = []; // array of timestamps of the recurring evt
+		switch (rcfrequency) {
+				case 'DAILY':
+					var recfreqTS = dlen;
+					break;
+				case 'WEEKLY':
+					var recfreqTS = dlen * 7;
+					break;
+				case 'MONTHLY':
+					var recfreqTS = -1;
+					break;
+				case 'YEARLY':
+					var recfreqTS = -1;
+					break;
+		}
+
+		if(rcuntil !== "" && rcuntil !== undefined) {
+			// until is in UTC jan = 1, need local for cal
+			var rcyear = rcuntil.substring(0,4);
+			var rcmon = parseInt(rcuntil.substring(4,6), 10) -1;
+			var rcday = parseInt(rcuntil.substring(6,8), 10);
+			var rchour = parseInt(rcuntil.substring(9,11), 10);
+			var rcmin = parseInt(rcuntil.substring(11, 13), 10);
+			this.RMlast.recD = new Date(Date.UTC(rcyear, rcmon, rcday, rchour, rcmin));
+		} else if(this.targetEvent.isRecurringForever) {
+			if(rcfrequency == "DAILY" || recfreqTS == -1) {
+			// go out 6 months
+				this.RMlast.recD = new Date(this.RMlast.eMY.month + 6 > 11 ? this.RMlast.eMY.year + 1 : this.RMlast.eMY.year, this.RMlast.eMY.month + 6 > 11 ? this.RMlast.eMY.month - 6 : this.RMlast.eMY.month + 6, this.RMlast.eD.getDate());
+			} else {	// go out 1 year from the end date
+				this.RMlast.recD = new Date(this.RMlast.eMY.year + 1, this.RMlast.eMY.month, this.RMlast.eD.getDate());
+			}
+		} else if((rccount !== -1) && (recfreqTS !== -1)) {
+			this.RMlast.recD = new Date(rcstTS + (recfreqTS*rcint*rccount));
+		}
+		var recHMDB = howManyDaysBetween(rcstD, this.RMlast.recD) +1;
+		// detect recurr model
+		switch (rcfrequency) {
+			case 'DAILY' : // Do Not Localize
+				// get how many intervals
+				var rcdays = Math.floor((recHMDB*dlen) / (recfreqTS*rcint));
+				for(var k=0; k < rcdays; k++) { // cycle through intervals
+					this.recTS.push((dlen*k*rcint) + rcstTS);	
+				}
+				while(this.recTS[this.recTS.length -1] > this.RMlast.recD.getTime()){
+					this.recTS.pop();
+				}
+				break;
+				
+            case 'WEEKLY': // Do NOT Localize
+				// find the day numbers from their names
+				var rci = this.targetEvent.rruleModel.byday.length;
+				var rcSundayTS = rcstTS - (stDoW*dlen); 
+				for(var i=0; i < rci; i++) {
+					rcdaysofwk[i] = this.recurrenceRule.dayMap.indexOf(rcbyday[i]);
+				}
+				if(rci > 1) {
+				// get start day dow because it has to be in rcdaysofwk
+					var rcpos = rcdaysofwk.indexOf(stDoW);
+					//need to get to the last of the array before start of next week
+					if(rcpos !== rci - 1){
+						for(var i = rcpos; i <= rci; i++) {
+							for(var j = 0; j < rcduraD; j++) {
+							// array's TS = duration days *milliseconds in a day + (sundays TS + day of week adjustment) 
+							this.recTS.push((dlen*j) + (rcSundayTS + dlen*rcdaysofwk[i]));	
+							}
+						}
+					}
+				}
+				//should be at the first day of the week after start day's week
+				// need to get how many intervals until GetHowManyDays / 7*interval
+				var rcwks = Math.floor((recHMDB*dlen) / (recfreqTS*rcint)); 
+				for(var k=1; k <= rcwks; k++) { // cycle through intervals
+					var rcwkSunTS = rcSundayTS + (rcint * recfreqTS * k);
+					for(var i = 0; i < rci; i++) { // cycle through days of week
+						for(var j = 0; j < rcduraD; j++) { //cycle duration
+						this.recTS.push((dlen*j) + (rcwkSunTS + dlen*rcdaysofwk[i]));	
+						}
+					}
+				}
+				while(this.recTS[this.recTS.length -1] > this.RMlast.recD.getTime()){
+					this.recTS.pop();
+				}
+            	break;
+                
+            case 'MONTHLY': // Do NOT Localize
+                //Monthly by date
+				var rcmonths = 1 + Math.floor(howManyMonthsBetween(rcstD ,this.RMlast.recD)/rcint);
+                if (this.targetEvent.rruleModel.bymonthday.length > 0) {
+                    var rcmonthday = this.targetEvent.rruleModel.bymonthday[0];
+					var rcstmon = rcstD.getMonth();
+					var rcstyear = rcstD.getFullYear();
+					for(var i=0; i<rcmonths; i++) { //cycle through intervals
+						var rcmon = (rcstmon + (i*rcint)) > 11 ? rcstmon + (i*rcint) - 12 : rcstmon + (i*rcint);
+						var rcyear = (rcstmon + (i*rcint)) > 11 ? rcstyear + 1 : rcstyear; 
+						var rcmonTS = new Date(rcyear, rcmon, rcmonthday, 12).getTime();
+						for(var j=0; j<rcduraD; j++) { // cycle through duration
+							this.recTS.push(rcmonTS + (j*dlen));
+						}
+					}
+                } else {
+                    var nth = getDOWCount(this.targetEvent.startTimestamp);
+					var rcmonths = 1 + Math.floor(howManyMonthsBetween(rcstD ,this.RMlast.recD)/rcint);
+					var rcstmon = rcstD.getMonth();
+					var rcstyear = rcstD.getFullYear();
+					var rcwantday = rcstD.getDay();
+					for(var i=0; i<rcmonths; i++) { // cycle through intervals
+						var rcmon = (rcstmon + (i*rcint)) > 11 ? rcstmon + (i*rcint) - 12 : rcstmon + (i*rcint);
+						var rcyear = (rcstmon + (i*rcint)) > 11 ? rcstyear + 1 : rcstyear;
+						var rcmonD = new Date(rcyear, rcmon, 1, 12);
+						var rcfstday = rcmonD.getDay();
+						var rcaddTS = ((rcwantday - rcfstday) < 0) ? ((rcwantday - rcfstday) + 7)*dlen : (rcwantday - rcfstday)*dlen;
+						var rcmonTS = rcmonD.getTime() + rcaddTS + 7*dlen*(nth-1);
+						for(var j=0; j<rcduraD; j++) { // cycle through duration
+							this.recTS.push(rcmonTS + (j*dlen));
+						}
+					}
+				}
+				while(this.recTS[this.recTS.length -1] > this.RMlast.recD.getTime()){
+					this.recTS.pop();
+				}
+				break;
+				
+			default:                
+				break;
+		}
+		// pull out the exceptions
+		if(this.targetEvent.exdates !== undefined) {
+			if(this.targetEvent.exdates !== "") {
+				var rcexTS = [];
+				var rcexstr = this.targetEvent.exdates.split("\r\n");
+				for(var i=0; i<rcexstr.length; i++){
+					var idx = rcexstr[i].indexOf(":");
+					if(idx !== -1) {
+						rcexstr[i] = rcexstr[i].substring(idx +1);
+					}
+				}
+				for(var j=0; j<rcexstr.length; j++) {
+					var rcyear = rcexstr[j].substring(0,4);
+					var rcmon = parseInt(rcexstr[j].substring(4,6), 10) -1;
+					var rcday = parseInt(rcexstr[j].substring(6,8), 10);
+					rcexTS[j] = new Date(rcyear, rcmon, rcday, 12).getTime();
+				}
+				// pull exdates out of array
+				for(var k=0; k<rcexTS.length; k++) {
+					var idx = this.recTS.indexOf(rcexTS[k]);
+					if(idx !== -1) {
+						this.recTS.splice(idx,1);
+					}
+				}
+			}
+		}
+		// mark the recurrence days
+		var rcstop = this.recTS.length;
+		for(var k=0; k<rcstop; k++){
+			this.markDay(this.recTS[k],
+							this.rImg, 
+							null/*color*/,
+							null/*x adjust*/,
+							this.colHW-2/*y adjust*/ ,
+							this.colHW/*wd adjust*/,
+							2 /*ht adjust*/)
+		}
+		
+	},
+	
+	rmEval: function() {
+		if(this.targetModifiedTime) {			
+			this.RMlast.stD = new Date(this.targetModifiedTime.start);
+			this.RMlast.eD = new Date(this.targetModifiedTime.end);
+		} else {
+			this.RMlast.stD = new Date(this.targetEvent.startTimestamp);
+			this.RMlast.eD = new Date(this.targetEvent.endTimestamp);
+		}
+		if(this.targetEvent.rruleModel) {
+			
+			this.rmdoRec = true;
+			return;
+		}
+	},
+	
     setup: function(){
         //Mojo.Log.info("datetime-assistant:setup");
         
@@ -168,7 +672,40 @@ var DatetimeAssistant = Class.create({
         this.startDateModel = {
             date: new Date(this.targetModifiedTime.start)
         };
+         var startDiv = this.controller.get("edit_startDate").parentNode.parentNode;
+        startDiv.style.paddingTop = "0px";
+        startDiv.style.marginTop = "-20px";
+        startDiv.removeChild(startDiv.firstChild);
+        startDiv.innerHTML = '<table width="100%"><tr><td width="10%"><div x-mojo-element="Button" id="popCanvasBtn2" class="popCanvas"></div></td><td width="90%"><div class="title datetime-picker"><div id="edit_startDate" x-mojo-element="DatePicker"></div></div></td></tr></table>';
+
+        var endDiv = this.controller.get("edit_endDate").parentNode.parentNode;
+        endDiv.style.paddingTop = "0px";
+        endDiv.style.marginTop = "-20px";
+        endDiv.removeChild(endDiv.firstChild);
+        endDiv.innerHTML = '<table width="100%"><tr><td width="10%"><div x-mojo-element="Button" id="popCanvasBtn" class="popCanvas"></div></td><td width="90%"><div class="title datetime-picker"><div id="edit_endDate" x-mojo-element="DatePicker"></div></div></td></tr></table>';
+
+        var parentDiv = this.controller.get("datetime_view");
+        var newDiv = this.controller.document.createElement("div");
+        newDiv.setAttribute("id", "lDrawer");
+        newDiv.setAttribute("x-mojo-element", "Drawer");
+        newDiv.setAttribute("class", "drawerClass");
+        newDiv.setAttribute("name", "DPmonth_view");
+        newDiv.innerHTML = '<div id="DPscrol" x-mojo-element="Scroller"><div id="DPscrolct">' +
+				'<div id="DPmonth_0" class="DPmv">' +
+				'<canvas id="left0" width="240" height="220" left="0"></canvas>' +
+				'</div><div id="DPmonth_1" class="DPmv">' +
+				'<canvas id="left1" width="240" height="220"></canvas>' +
+				'</div><div id="DPmonth_2" class="DPmv">' +
+				'<canvas id="left2" width="240" height="220"></canvas>' +
+				'</div><div id="DPmonth_3" class="DPmv">' +
+				'<canvas id="right0" width="240" height="220"></canvas>' +
+				'</div><div id="DPmonth_4" class="DPmv">' +
+				'<canvas id="right1" width="240" height="220"></canvas>' +
+				'</div><div id="DPmonth_5" class="DPmv">' +
+				'<canvas id="right2" width="280" height="220"></canvas></div></div></div>';
+        parentDiv.insertBefore(newDiv, parentDiv.childNodes[9]);
         
+               
 	this.controller.setupWidget('edit_startDate',{label: $L('Date'),modelProperty:'date'}, this.startDateModel);
         this.controller.listen('edit_startDate', Mojo.Event.propertyChange, this.startDateCallback.bindAsEventListener(this));
         
@@ -204,10 +741,133 @@ var DatetimeAssistant = Class.create({
         this.controller.setupWidget('dtl_allday_cb', this.allDayCheckboxAttribute, this.allDayCheckboxModel);
         
         this.updateTimedAllDay(false);
-        
-        
-    },
+		// button setup
+		this.controller.setupWidget("popCanvasBtn",
+			{},
+			{
+				label : "",
+				disabled: false
+			}
+		);
+		this.popCanvasBtn = this.controller.get('popCanvasBtn');
+		this.controller.setupWidget("popCanvasBtn2",
+			{},
+			{
+				label : "",
+				disabled: false
+			}
+		);
+		this.canvasBtnHandler = this.DPtoggleDrawer.bind(this);
+		this.popCanvasBtn2 = this.controller.get('popCanvasBtn2');
+		Mojo.Event.listen(this.popCanvasBtn, Mojo.Event.tap, this.canvasBtnHandler);
+		Mojo.Event.listen(this.popCanvasBtn2, Mojo.Event.tap, this.canvasBtnHandler);
+		// drawer setup
+		this.controller.setupWidget("DPscrol",{mode: 'horizontal'});
+		this.dModel = {open:false};
+		this.controller.setupWidget('lDrawer', {property:'open', drawerBottomOffset: 50}, this.dModel);
+		this.ldrawer = this.controller.get('lDrawer');		
+		// setup month canvas context
+		this.redlineSplit = this.controller.get("DPmonth_2");
+		this.mthctx = [];
+		this.left0 = this.controller.get("left0");
+		this.mthctx[0] = this.left0.getContext('2d');
+		this.left1 = this.controller.get("left1");
+		this.mthctx[1] = this.left1.getContext('2d');
+		this.left2 = this.controller.get("left2");
+		this.mthctx[2] = this.left2.getContext('2d');
+		this.right0 = this.controller.get("right0");
+		this.mthctx[3] = this.right0.getContext('2d');
+		this.right1 = this.controller.get("right1");
+		this.mthctx[4] = this.right1.getContext('2d');
+		this.right2 = this.controller.get("right2");
+		this.mthctx[5] = this.right2.getContext('2d');
+		// setup vars
+		this.startOfWeek = getPrefs().startOfWeek;
+		this._rdNames = [];
+		this.RMlast = {};
+		this.RMlast.duration = {years: 0, months: 0, days: 0, hours: 0, minutes: 0};
+		this.RM = [];
+		this.topCor = "";
+		this.leftCor = "";
+		this.rtdayimg = new Image();
+		this.rtdayimg.src = "./images/week-current-day.png";
+		this.rmdoRec = false;
+		this.rdayNames();
+		this.rmEval();
+		this.orderRM(this.RMlast.stD, this.RMlast.eD, this.targetEvent.allDay);
+		this.stImg = new Image();
+		this.stImg.src = "./images/day-allday-event-green-center.png";
+		this.eImg = new Image();
+		this.eImg.src = "./images/day-allday-event-red-center.png";
+		this.dImg = new Image();
+		this.dImg.src = "./images/day-event-green.png";
+		this.rImg = new Image();
+		this.rImg.src = "./images/day-event-yellow.png";
+		this.rmScroller = this.controller.get('DPscrol');
+		//this.rmScrollP = {x : 0, y : 0};
+		this.rmlastBtn = null;
+		this.rtDate = new Date();
+		this.rmcalHold = false;
+	},
     
+	
+	// toggle drawer function:
+	DPtoggleDrawer: function(e) {
+		var curBtn = e.currentTarget.id;
+		if(curBtn == "popCanvasBtn2") {
+			this.rmScrollTo(this.RMlast.stD);
+		} else {
+			this.rmScrollTo(this.RMlast.eD);
+		}
+		if (curBtn == this.rmlastBtn)  {
+			this.ldrawer.mojo.setOpenState(false);
+			this.rmlastBtn = null;
+			if(!this.targetEvent.allDay) {
+				this.slideDown(this.controller.get('start_time_row'), 0.4);		
+				this.slideDown(this.controller.get('end_time_row'), 0.4);
+			}
+		} else {
+			this.rmlastBtn = curBtn;
+			var state = this.ldrawer.mojo.getOpenState();
+			if(!state) {
+			
+				this.ldrawer.mojo.setOpenState(true);
+				if(!this.targetEvent.allDay) {
+					this.slideUp(this.controller.get('start_time_row'), 0.4);
+					this.slideUp(this.controller.get('end_time_row'), 0.4);
+				}
+			}
+		}
+	},	
+	
+	rmScrollTo: function(x) {
+		if (x instanceof Date == true) { 
+			var whatMn = x.getMonth();
+			var whatYr = x.getFullYear();
+			var idx = this.risRendered(whatYr, whatMn);
+		} else if(x >= 0 && x <= 6) {
+			var idx = x;
+		}
+		idx = idx * 241;
+		idx = -idx;
+		this.controller.get('DPscrol').mojo.scrollTo(idx, true, true);
+	},
+	
+	rmHandleUpdate: function() {
+		// date picker model changed do redraw
+		for(var i = 0;i<6; i++) {
+			this.mthctx[i].clearRect(0, 0, 240,220);
+		}
+		this.rmEval();
+		this.orderRM(this.RMlast.stD, this.RMlast.eD, this.targetEvent.allDay);
+		this.markDay(new Date(), this.rtdayimg);
+		this.markDay(this.RMlast.stD, this.stImg , null/*color*/, 1/*x adjust*/,null/*y adjust*/ ,2 /*wd adjust*/,this.colHW /*ht adjust*/);
+		this.markDay(this.RMlast.eD, this.eImg , null/*color*/, this.colHW-2/*x adjust*/,null/*y adjust*/ ,2 /*wd adjust*/,this.colHW /*ht adjust*/);
+		this.rmMarkD();
+		if(this.rmdoRec) {this.rmRecur(); }
+		this.rmScrollTo(this.RMlast.stD);
+	},
+	
     checktargetEventDirty: function(){
         //construct rrule
 		if(this.targetEvent.rruleModel)
@@ -431,12 +1091,47 @@ var DatetimeAssistant = Class.create({
     },
     
     activate: function(){
-    },
+		this.markDay(new Date(), this.rtdayimg);
+		this.markDay(this.RMlast.stD, this.stImg , null/*color*/,0/*x adjust*/,null/*y adjust*/ ,2 /*wd adjust*/,this.colHW /*ht adjust*/);
+		this.markDay(this.RMlast.eD, this.eImg , null/*color*/, this.colHW-2/*x adjust*/,null/*y adjust*/ ,2 /*wd adjust*/,this.colHW /*ht adjust*/);
+		this.rmMarkD();
+		if(this.rmdoRec) {this.rmRecur(); }
+		this.rmScrollTo(this.RMlast.stD);
+		//tap handlers
+		this.calTapHandler = this.handleCalTap.bind(this);
+		this.calHoldHandler = this.handleCalHold.bind(this);
+		Mojo.Event.listen(this.left0, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.listen(this.left1, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.listen(this.left2, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.listen(this.right0, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.listen(this.right1, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.listen(this.right2, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.listen(this.left0, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.listen(this.left1, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.listen(this.left2, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.listen(this.right0, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.listen(this.right1, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.listen(this.right2, Mojo.Event.hold, this.calHoldHandler);
+		},
     
     deactivate: function(){
-        //Mojo.Log.info("datetime-assistant:deactivate");	
-        this.controller.stopListening(this.controller.document, Mojo.Event.deactivate, this.blurStage);
-    },
+		Mojo.Event.stopListening(this.popCanvasBtn, Mojo.Event.tap, this.canvasBtnHandler);
+		Mojo.Event.stopListening(this.popCanvasBtn, Mojo.Event.tap, this.canvasBtnHandler);
+		//Mojo.Log.info("datetime-assistant:deactivate");	
+		this.controller.stopListening(this.controller.document, Mojo.Event.deactivate, this.blurStage);
+		Mojo.Event.stopListening(this.left0, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.stopListening(this.left1, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.stopListening(this.left2, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.stopListening(this.right0, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.stopListening(this.right1, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.stopListening(this.right2, Mojo.Event.tap, this.calTapHandler);
+		Mojo.Event.stopListening(this.left0, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.stopListening(this.left1, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.stopListening(this.left2, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.stopListening(this.right0, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.stopListening(this.right1, Mojo.Event.hold, this.calHoldHandler);
+		Mojo.Event.stopListening(this.right2, Mojo.Event.hold, this.calHoldHandler);
+	},
     	
 	//When the start date of the event is changed, WEEKLY:single day, WEEKLY:custom, MONTHLY repeating events 
 	//must update their rruleModel. DAILY, YEARLY, and WEEKLY:weekdays repeating events do not need to be changed.
@@ -553,6 +1248,7 @@ var DatetimeAssistant = Class.create({
             this.targetEvent.alldayReservedStartTimestamp = this.targetModifiedTime.start;
             this.targetEvent.alldayReservedEndTimestamp = this.targetModifiedTime.end;
         }
+		this.rmHandleUpdate();
     },
     
     endDateSet: function(isOnBack){
@@ -642,8 +1338,10 @@ var DatetimeAssistant = Class.create({
 				}
             }
             
-            if (isOnBack == false) 
+            if (isOnBack == false) {
                 this.calcDuration();
+				this.rmHandleUpdate();
+			}
             this.targetModifiedTime.changed = true;
             if (this.datetimeoutID) {
                 this.controller.window.clearTimeout(this.datetimeoutID);
@@ -751,6 +1449,7 @@ var DatetimeAssistant = Class.create({
         this.controller.modelChanged(this.startTimeModel);
         this.controller.modelChanged(this.endTimeModel);
         this.targetModifiedTime.changed = false;
+		this.rmHandleUpdate();
         //Mojo.Log.info("Old event all day %o, new Event all day %o",this.oldEvent.allDay,this.allDayCheckboxModel);
         if (this.oldEvent.allDay != this.allDayCheckboxModel.value) {
         
@@ -761,6 +1460,85 @@ var DatetimeAssistant = Class.create({
         this.targetCallBack(this.targetEvent, null);
         
     },
-
+	
+	//Calendar Tap Handlers
+	handleCalHold: function(event) {
+		// set the hold var, send to tap handler
+		this.rmcalHold = true;
+		this.handleCalTap(event);
+	},
+	
+	handleCalTap: function(event) {
+		Event.stop(event);
+		var x = event.down.offsetX;
+		var y = event.down.offsetY;
+		//get rid of tap areas not in calendar day area
+		if(x <= 30 || y <= 40 ) {
+			this.rmcalHold = false;
+			return;
+		}
+		var rmcan = event.target.id;
+		switch (rmcan) {
+			case 'left0':
+				var rmindex = 0;
+				break;
+			case 'left1':
+				var rmindex = 1;
+				break;
+			case 'left2':
+				var rmindex = 2;
+				break;
+			case 'right0':
+				var rmindex = 3;
+				break;
+			case 'right1':
+				var rmindex = 4;
+				break;
+			case 'right2':
+				var rmindex = 5;
+				break;
+		}
+		// get first day index month year
+		if (x && y && (rmindex !== undefined)) {
+			var calx = x - 30;
+			var caly = y - 40;
+			var cald1idx = this.RM[rmindex].fstDayLidx;
+			var calcol = Math.floor(calx/this.colHW);
+			var calrow = Math.floor(caly/this.colHW);
+			var caldate = ((calrow * 7) + calcol +1) - cald1idx;
+			if((caldate > this.RM[rmindex].maxdays) || (caldate <= 0)) {
+				// tapped an area with invalid date
+				this.rmcalHold = false;
+				return;
+			}
+			var calmon = this.RM[rmindex].month;
+			var calyear = this.RM[rmindex].year;
+			if((calyear !== undefined) && (calmon !== undefined) && (caldate !== undefined)) {
+				if(this.rmlastBtn != null && this.rmlastBtn == "popCanvasBtn2") {
+					// start date
+					this.startDateModel.date = new Date(calyear, calmon, caldate);
+					this.controller.modelChanged(this.startDateModel);
+					Mojo.Event.send(this.controller.get('edit_startDate'), 'mojo-property-change', {value: this.startDateModel.date} )
+				} else if(this.rmlastBtn !== null && this.rmlastBtn == "popCanvasBtn") {
+					// end date
+					this.endDateModel.date = new Date(calyear, calmon, caldate);
+					this.controller.modelChanged(this.endDateModel);
+					Mojo.Event.send(this.controller.get('edit_endDate'), 'mojo-property-change', {value: this.endDateModel.date} )
+				}
+				// check whether drawer should close
+				if(this.rmcalHold == false) {
+					this.ldrawer.mojo.setOpenState(false);
+					this.rmlastBtn = null;
+					if(!this.targetEvent.allDay) {
+						this.slideDown(this.controller.get('start_time_row'), 0.4);		
+						this.slideDown(this.controller.get('end_time_row'), 0.4);
+					}
+				} else {
+					this.rmcalHold = false;
+					return;
+				}
+			}
+		}
+	},
 
 });
diff --git a/usr/palm/applications/com.palm.app.calendar/app/controllers/day-assistant.js b/usr/palm/applications/com.palm.app.calendar/app/controllers/day-assistant.js
index f80b85f..32e1f18 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/controllers/day-assistant.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/controllers/day-assistant.js
@@ -11,8 +11,8 @@ var DayAssistant = Class.create({
 		this.appMenuModel = { visible:true, 
 									label:$L('Calendar'), 
 									items: [ Mojo.Menu.editItem,
-											{label:$L('New'), items: [{label:$L('Event'), command:'newtimed', disabled:false},
-	                													{label:$L('All day event'), command:'newallday', disabled:false}] 
+											{label:$L('New'), items: [{label:$L('Event'), shortcut:'n', command:'newtimed', disabled:false},
+	                													{label:$L('All day event'), shortcut:'d', command:'newallday', disabled:false}] 
 	                													 				
 											},
 											/*{label:$L('New event...'), command:'newtimed', disabled:this.readOnlyCalendar, id: 0},
@@ -22,8 +22,16 @@ var DayAssistant = Class.create({
 											{label:$L('Jump to...'), command:'jumpto', id: 4},
 											{label:$L('Missed reminders...'), command:'reminders', id: 5},
 											{label:$L('Preferences & Accounts'), command:Mojo.Menu.prefsCmd, disabled: false},
+											this.compressedMenuItem = {label:$L('Compressed View'), command:'compressed', chosen: true},
 											{label:$L('Help'), command:Mojo.Menu.helpCmd, disabled:false}]
 								};
+
+		this.compressedView = false;
+		var cookie = new Mojo.Model.Cookie('DayViewCompressed');
+		if (cookie !== undefined) {
+			this.compressedView = cookie.get();
+		}
+
 		this.colors = {
 				'cal-color-blue': 	{background: 'rgb(145, 211, 234)', border: 'rgb(99, 165, 188)',	text: 'rgb(5, 32, 41)'},
 				'cal-color-green': 	{background: 'rgb(140, 240, 140)', border: 'rgb(77, 206, 77)',	text: 'rgb(1, 52, 1)'},
@@ -33,7 +41,7 @@ var DayAssistant = Class.create({
 				'cal-color-pink': 	{background: 'rgb(245, 156, 188)', border: 'rgb(209, 104, 147)',text: 'rgb(40, 0, 0)'},
 				'cal-color-red': 	{background: 'rgb(255, 151, 151)', border: 'rgb(224, 98, 98)',	text: 'rgb(45, 8, 21)'},
 				'cal-color-purple': {background: 'rgb(217, 183, 255)', border: 'rgb(177, 128, 232)',text: 'rgb(38, 22, 56)'},
-				'cal-color-teal': 	{background: 'rgb(114, 223, 210)', border: 'rgb(68, 177, 164)',	text: 'rgb(0, 42, 36)'},
+				'cal-color-teal': 	{background: 'rgb(114, 223, 210)', border: 'rgb(68, 177, 164)',	text: 'rgb(0, 42, 36)'}
 			};
 			
 		this.PREV_DAY = 1;
@@ -44,7 +52,9 @@ var DayAssistant = Class.create({
 		this.pendingCalendarSettingsUpdate = false;
 		//this.pendingOpenScratchEventInDetails = false;
 		this.snapEffectCount = 0;
-
+		this.imgAlarm = new Image();
+		this.imgAlarm.src = "/media/internal/scrims/ubercalendar/alarm-icon.png";
+		this.imgIcons = new Object();
 		
 		this.hourHeight = 48;
 		this.halfHourHeight = 24;
@@ -214,17 +224,23 @@ var DayAssistant = Class.create({
 	buildDayTitle: function(doScrim) {
 		var today = Date.today().clearTime();
 		var dayDateNoTime = new Date(this.dayDate).clearTime();
+		var weekNumber = new Date(this.dayDate).getISO8601Week();
 		
 		if (dayDateNoTime.compareTo(today) == 0) {
-			var template = new Template($L("#{todayStr}, #{dateStr}"));
+			var template = new Template($L("#{todayStr}, #{dateStr}") + ", W#{weekStr}");
 			var todayStr= Mojo.Format.formatRelativeDate(today, {date: "short"}).capitalize();
 			
 			var templateModel = {};
 			templateModel.todayStr = todayStr;
+			templateModel.weekStr = weekNumber;
 			templateModel.dateStr = Mojo.Format.formatDate(this.dayDate, $L("EEE MMM d"));
 			this.controller.get('dv_title').update(template.evaluate(templateModel)); // Localize this date format string
 		} else {
-			this.controller.get('dv_title').update(Mojo.Format.formatDate(this.dayDate, $L("EEE MMM d, yyyy"))); // Localize this date format string
+			var template = new Template($L("#{dateStr}") + ", W#{weekStr}");
+			var templateModel = {};
+			templateModel.weekStr = weekNumber;
+			templateModel.dateStr = Mojo.Format.formatDate(this.dayDate, $L("EEE MMM d, yyyy"));
+			this.controller.get('dv_title').update(template.evaluate(templateModel)); // Localize this date format string
 		}
 		
 		if (doScrim) {
@@ -506,7 +522,7 @@ var DayAssistant = Class.create({
 		return {left: left, top: top, width: width, height: height};
 	},
 
-		chopText:function(buf1,maxWidth,context){
+	chopText:function(buf1,maxWidth,context){
 		var buf2;
 		var index=0;
 		
@@ -704,6 +720,8 @@ var DayAssistant = Class.create({
 		//Mojo.Log.info("day-assistant: renderEvent");
 		if (this.animating && !event.animatible)
 			return;
+
+//Mojo.Log.error(Object.toJSON(event));
 	
 		var ctx = this.divs[whichDay].ctxEvents;
 		var marginLeft = 28;
@@ -745,7 +763,15 @@ var DayAssistant = Class.create({
 		ctx.fillRect(left+1, top+height-3, width-2, 1);
 		
 		var textTop = top + 30;
-		
+
+		// get more details
+		if (!event.subject && event.gotFullDetails === undefined) {
+			// get more infos for this event
+			getCalendarService().getEvent(event.id,
+				this.getEventDetails.bind(this, whichDay, event, selected, ghost),
+				function(response) {Mojo.Log.error(response.errorText);},
+				this.controller);
+		}
 		// Subject
 		ctx.fillStyle = this.colors[event.calendarColor].text;
 		if (selected)
@@ -755,8 +781,27 @@ var DayAssistant = Class.create({
 		var subjectTop = top+15;
 		if (bottom >= (top + height))
 			subjectTop = top+17;	// no room for location or note, therefore vertically center subject text
-		this.fillText(event.subject, ctx, left+4, subjectTop, width, bottom, 15 /*line height*/);	
-		
+		this.fillText(event.subject, ctx, left+4, subjectTop, width-30, bottom, 15 /*line height*/);	
+
+		// Alarm
+		if ((event.alarm !== undefined) && (event.alarm != "none")) {
+			try{ ctx.drawImage(this.imgAlarm, left+4+width-18, subjectTop+1, 12, 12); }catch(e) {}
+		}
+		// Icon
+		if (event.note !== undefined) {
+			try {
+				var start = event.note.indexOf("ICON=");
+				if (start > -1) {
+					start += 5;
+					var end = event.note.indexOf(";");
+					if (end > start) {
+						var icon = event.note.substring(start, end);
+						ctx.drawImage(this.imgIcons[icon], left+4+width-30, subjectTop+12, 12, 12);
+					}
+				}
+			} catch(e) {}
+		}
+
 		// Location
 		if (event.location && (event.location.length > 0) && (textTop < (top + height))) {
 			ctx.font = "italic bold 14px Prelude";
@@ -771,7 +816,7 @@ var DayAssistant = Class.create({
 			bottom = top+height;
 			this.fillText(event.note, ctx, left+4, textTop-2, width, bottom-2, 12 /*line height*/);			
 		}
-		
+
 		if (ghost) {
 			var selectedColor = "rgba(228, 228, 226, 0.85)"
 			ctx.fillStyle = selectedColor;
@@ -791,6 +836,13 @@ var DayAssistant = Class.create({
 		  ctx.fillRect(left, top, width, height);
 		}
 	},
+
+	getEventDetails: function(whichDay, event, selected, ghost, details) {
+		event.alarm = details.alarm;
+		event.note = details.note;
+		event.gotFullDetails = true;
+		this.renderEvent(whichDay, event, selected, ghost);
+	},
 	
 	getAllDayDimensions: function(index, event) {
 		var marginLeft = 4;
@@ -824,13 +876,41 @@ var DayAssistant = Class.create({
 					   dim.top, 
 					   dim.width, 
 					   this.colors[event.calendarColor].allday.syCenter);
+
+		// get more details
+		if (!event.subject && event.gotFullDetails === undefined) {
+			// get more infos for this event
+			getCalendarService().getEvent(event.id,
+					this.getAllDayEventDetails.bind(this, whichDay, index, event, selected),
+					function(response) {Mojo.Log.error(response.errorText);},
+					this.controller);
+		}
 		
 		// Subject
 		ctx.fillStyle = this.colors[event.calendarColor].text;
 		if (selected)
 			ctx.fillStyle = "rgb(255, 255, 255)";
 		ctx.font = "bold 14px Prelude";
-		this.fillText(event.subject, ctx, dim.left+10, dim.top+17, dim.width-10, dim.top+30, 15 /*line height*/);
+		this.fillText(event.subject, ctx, dim.left+10, dim.top+17, dim.width-30, dim.top+30, 15 /*line height*/);
+
+		// Alarm
+		if ((event.alarm !== undefined) && (event.alarm != "none")) {
+			try{ ctx.drawImage(this.imgAlarm, dim.left+dim.width-18, dim.top+(dim.height-12)/2, 12, 12); }catch(e) {}
+		}
+		// Icon
+		if (event.note !== undefined) {
+			try {
+				var start = event.note.indexOf("ICON=");
+				if (start > -1) {
+					start += 5;
+					var end = event.note.indexOf(";");
+					if (end > start) {
+						var icon = event.note.substring(start, end);
+						ctx.drawImage(this.imgIcons[icon], dim.left+dim.width-30, dim.top+(dim.height-12)/2, 12, 12);
+					}
+				}
+			} catch(e) {}
+		}
 		
 		if (selected) {
 			var selectedColor = "rgba(4, 4, 4, 0.5)"
@@ -839,14 +919,39 @@ var DayAssistant = Class.create({
 		}
 	},
 	
+	getAllDayEventDetails: function(whichDay, index, event, selected, details) {
+		event.alarm = details.alarm;
+		event.note = details.note;
+		event.gotFullDetails = true;
+		this.renderAllDayEvent(whichDay, index, event, selected);
+	},
+
 	calcEventCompression: function(day) {
 		var i;
 		
 		// Make sure that free times, busy times, and events are sorted by start times
-		day.freeTimes = day.freeTimes.sortBy(function(f) { return f.start_decimal; })
+		//day.freeTimes = day.freeTimes.sortBy(function(f) { return f.start_decimal; })
 		day.events = day.events.sortBy(function(e) { return e.start_decimal; })
 		day.busyTimes = day.busyTimes.sortBy(function(b) { return b.start_decimal; })
 
+		if (this.compressedView) {
+			if (day.events.length == 0) {
+				day.freeTimes.push({start_decimal: 0, end_decimal: 2400, duration: 2400});
+			} else {
+				if (day.events[0].start_decimal > 0) {
+					day.freeTimes.push({start_decimal: 0, end_decimal: day.events[0].start_decimal, duration: day.events[0].start_decimal});
+				}
+				// sort by end times to get last time
+				var last = day.events.sortBy(function(f) { return f.end_decimal; });
+				if (last[last.length-1].end_decimal < 2400) {
+					day.freeTimes.push({start_decimal: last[last.length-1].end_decimal, end_decimal: 2400, duration: 2400 - last[last.length-1].end_decimal});
+				}
+			}
+		}
+		// Make sure that free times, busy times, and events are sorted by start times
+		day.freeTimes = day.freeTimes.sortBy(function(f) { return f.start_decimal; })
+
+
 		day.animationTop = 0;
 		
 		var compressDelta = 0;
@@ -1557,10 +1662,31 @@ var DayAssistant = Class.create({
 		this.dvScratchEventsDiv = this.controller.get('dv_scratch_events');
 		this.scratchEventActive = false;
 		this.scratchEvent = null;
-		
+		this.copyEvt = null;
+		
+		this.imgIcons.birthday = new Image();
+		this.imgIcons.birthday.src = "/media/internal/scrims/ubercalendar/icon-birthday.png";
+		this.imgIcons.car = new Image();
+		this.imgIcons.car.src = "/media/internal/scrims/ubercalendar/icon-car.png";
+		this.imgIcons.kids = new Image();
+		this.imgIcons.kids.src = "/media/internal/scrims/ubercalendar/icon-kids.png";
+		this.imgIcons.doctor = new Image();
+		this.imgIcons.doctor.src = "/media/internal/scrims/ubercalendar/icon-doctor.png";
+		this.imgIcons.plane = new Image();
+		this.imgIcons.plane.src = "/media/internal/scrims/ubercalendar/icon-plane.png";
+		this.imgIcons.holiday = new Image();
+		this.imgIcons.holiday.src = "/media/internal/scrims/ubercalendar/icon-holiday.png";
+		this.imgIcons.vacation = new Image();
+		this.imgIcons.vacation.src = "/media/internal/scrims/ubercalendar/icon-vacation.png";
+		this.imgIcons.party = new Image();
+		this.imgIcons.party.src = "/media/internal/scrims/ubercalendar/icon-party.png";
+
 		// Used to detect Orange key + tap to delete inline events
 		this.orangeKeyDown = false;
-	
+		
+		//Used to detect gesture area hold
+		this.metaKeyDown = false;
+		
 		this.firstActivated = true;
 		
 		this.buildViewHeader();
@@ -1825,17 +1951,20 @@ var DayAssistant = Class.create({
 		this.menuModel = {
 			visible:true,
 			items: [
-					{},
+					{label: $L('Event'), icon: 'new-timed', command: 'newtimed'},
 						{label:$L('Views'), 
 						toggleCmd:'day', 
 						items:[
+							{label:$L('Agenda'), icon: 'menu-agenda', command:'agenda'},
 							{label:$L('Day'), icon: 'menu-day', command:'day'}, 
 							{label:$L('Week'), icon: 'menu-week', command:'week'}, 
 							{label:$L('Month'), icon: 'menu-month', command:'month'}
 					 ]},
-					{},
+					{label: $L('All day event'), icon: 'new-allday', command: 'newallday'},
 					]};
-			
+
+		this.compressedMenuItem.chosen = this.compressedView;
+
 		this.controller.setupWidget(Mojo.Menu.commandMenu, undefined, this.menuModel);
 		this.controller.setupWidget(Mojo.Menu.appMenu, {omitDefaultItems:true}, this.appMenuModel);
 		this.remindersUpdated(); 	// Update missed reminders menu item
@@ -1855,6 +1984,9 @@ var DayAssistant = Class.create({
 		this.controller.setupWidget(this.divs[this.PREV_DAY].alldayevents_scroller, undefined, {mode: 'vertical'});
 		this.controller.setupWidget(this.divs[this.NEXT_DAY].alldayevents_scroller, undefined, {mode: 'vertical'});
 
+		var cookie = new Mojo.Model.Cookie("LastView");
+		cookie.put("day");
+
    		this.CalSelectorHandler = this.calSelector.bindAsEventListener(this);
 		
 		// IMPORTANT: Set up the height of the scrollers.  If this is not done
@@ -2009,6 +2141,7 @@ var DayAssistant = Class.create({
 		// Find all the EAS accounts if there are any
 		this.easAccountIds = null;
 		response.list.each(function(acct){
+//Mojo.Log.error("accid", acct.accountId, Object.toJSON(acct));
 			//Mojo.Log.info("acct domain %s", acct.domain);
 			if (acct.domain == 'eas') {
 				// Keep track of the list of eas accounts for Sync Accounts button
@@ -2076,11 +2209,11 @@ var DayAssistant = Class.create({
 				this.maybeCommitScratchEvent();
 			} else if(event.command =="newtimed"){
 				Event.stop(event);
-				this.controller.stageController.pushScene('edit', 0, 0, false,this.getCalId()/*calendarId*/,0/*subject*/);
+				this.controller.stageController.pushScene('edit', 0, 0, false, this.getCalId()/*calendarId*/,0/*subject*/);
 				this.maybeCommitScratchEvent();
 			} else if(event.command=="newallday"){
 				Event.stop(event);
-				this.controller.stageController.pushScene('edit', 0, 0, true,this.getCalId(),0/*subject*/);
+				this.controller.stageController.pushScene('edit', 0, 0, true, this.getCalId(),0/*subject*/);
 				this.maybeCommitScratchEvent();
 			} else if(event.command == Mojo.Menu.helpCmd){
 				this.maybeCommitScratchEvent(true);
@@ -2088,6 +2221,13 @@ var DayAssistant = Class.create({
 			} else if (event.command == 'jumpto') {
 				Event.stop(event);
 				this.showJumpTo(); // this may also commit the scratch event
+			} else if (event.command == 'compressed') {
+				Event.stop(event);
+				this.compressedView = !this.compressedView;
+				var cookie = new Mojo.Model.Cookie('DayViewCompressed');
+				cookie.put(this.compressedView);
+				this.compressedMenuItem.chosen = this.compressedView;
+				this.controller.modelChanged(this.appMenuModel);
 			} else if (event.command == 'reminders') {
 				Event.stop(event);
 				this.maybeCommitScratchEvent();
@@ -2096,15 +2236,27 @@ var DayAssistant = Class.create({
 				Event.stop(event);
 				this.maybeCommitScratchEvent(true);
 				this.syncAllCalendars();
+			} else if (event.command == 'agenda') {
+				Event.stop(event);
+				this.maybeCommitScratchEvent(true);
+				this.controller.serviceRequest('palm://com.palm.applicationManager', {
+					method: 'launch',
+					parameters: {
+						id: 'com.palm.app.agenda'
+					}
+				});
+				this.menuModel.items[1].toggleCmd = 'day';
+				this.controller.modelChanged(this.menuModel, this);
 			}				
 		} else if(event.type == Mojo.Event.commandEnable && event.command == Mojo.Menu.prefsCmd) {
 			// Enable prefs menuitem for this scene.
 			event.stopPropagation();
-		} else if(event.type == Mojo.Event.back){
+		} else if (event.type == Mojo.Event.back) {
 			// If there's a scratch event, possibly commit it, and then override default back handling.
-			if (this.maybeCommitScratchEvent(true)) {
-				Event.stop(event);
-			}
+			event.preventDefault();
+			event.stopPropagation();
+			this.maybeCommitScratchEvent(true);
+			this.handleMonthView();
 		}
 			
 	},
@@ -2407,7 +2559,12 @@ var DayAssistant = Class.create({
 		if (event.originalEvent.altKey || event.originalEvent.keyCode === 129) {
     	//Mojo.Log.info("handleKeyUp detected ORANGE key");
 			this.orangeKeyDown = false;
- 		} 
+ 		}
+		// getsure area up
+		if (event.originalEvent.metaKey || event.originalEvent.keyCode === 231) {
+		//Mojo.Log.info("handleKeyUp detected gesture up key");
+			this.metaKeyDown = false;
+		}		
 	},
 	
 	handleKeyDown: function(event) {
@@ -2415,7 +2572,12 @@ var DayAssistant = Class.create({
 		if (event.originalEvent.altKey || event.originalEvent.keyCode === 129) {
     	//Mojo.Log.info("handleKeyDown detected ORANGE key");
 			this.orangeKeyDown = true;
- 		} 
+ 		}
+		// getsure area down
+		if (event.originalEvent.metaKey || event.originalEvent.keyCode === 231) {
+    	//Mojo.Log.info("handleKeyUp detected gesture key");
+			this.metaKeyDown = true;
+		}		
 	},
 	
 	updateSceneScrollerSize: function(event) {
@@ -2942,6 +3104,18 @@ var DayAssistant = Class.create({
 			getReminderManager().removeReminder(this.deletedeventId);
 	},
 	
+	copiedEvent: function(response) {
+		//copied event saved open in edit scene
+		if(this.copyEvt) {
+			if(response.id == this.copyEvt.id || this.copyEvt.id == undefined || this.copyEvt.id.match(response.id)) {
+		  
+				// NOTE: Event Ids are strings NOT longs
+				if (this.copyEvt.id == undefined)	this.copyEvt.id = response.id + "";	// Do NOT Localize
+				this.controller.stageController.pushScene('edit', this.copyEvt.id, new Date(this.copyEvt.startTimestamp), false, this.copyEvt.calendarId, this.copyEvt.subject, false, this.updatingEventHandler);
+			}
+		}
+	},
+	
 	handleEventsTap: function(event, tapEvent) {
 		//Mojo.Log.info("day-assistant: handleEventsTap event_being_held " + Object.toJSON(this.event_being_held));
 		
@@ -2980,6 +3154,29 @@ var DayAssistant = Class.create({
 				this.orangeKeyDown = false;
 				getCalendarService().getEvent(event.id, this.gotEventInlineDelete.bind(this),this.gotEventInlineDeleteFailed.bind(this), this.controller);
 			} else {
+				if (this.metaKeyDown == true) {
+					//create new from old
+					var start = new Date();
+					start.set({	minute: 0, second: 0, millisecond: 0 });
+					var startTS = start.getTime(); //set it up on today's current hour
+					var duration = event.end - event.start;
+					var endTS = startTS + duration;
+					this.metaKeyDown = false;
+					var tfParams = {
+								subject: event.subject,
+								allday: false,
+								location: event.location,
+								startTimestamp: startTS,
+								endTimestamp: endTS,
+								note: event.note
+							};
+					this.copyEvt = new CalendarEvent(tfParams);
+					this.copyEvt.calendarId = event.calendarId;
+					getCalendarService().setEvent(this.copyEvt, 
+										this.copiedEvent.bind(this),
+										this.controller,
+										function(response) {Mojo.Log.error(response.errorText)});
+				} else {
 				this.controller.stageController.pushScene('edit', 
 													  event.id, 
 													  new Date(event.startTimestamp), 
@@ -2988,6 +3185,7 @@ var DayAssistant = Class.create({
 													  event.subject, 
 													  false, 
 													  this.updatingEventHandler);
+				}
 			}
 		}
 	},
@@ -3183,6 +3381,7 @@ var DayAssistant = Class.create({
 			this.event_being_dragged = this.controller.get("dragging_event");
 			// Keep track of the initial hit point
 			this.dragLastPointY = event.down.y;
+			this.dragLastPointX = event.down.X;
 			Event.stop(event);
 			return Mojo.Gesture.CONSUMED_EVENT;
 		}
@@ -3198,6 +3397,21 @@ var DayAssistant = Class.create({
 		return newTop;
 	},
 	
+	// Move the element... NOTE: This assumes that the element is 
+	// positioned absolutely
+	moveElementX: function(element, dx) {
+		var newLeft = parseInt(element.getStyle('left'), 10) + dx;
+		//Mojo.Log.info("day-assistant: moveElement: %s %d",element.id,newTop)
+		
+		element.setStyle({left: newLeft + 'px'});
+		if (newLeft > 100) {
+			element.setStyle({opacity: 0.5});
+		} else {
+			element.setStyle({opacity: 1.0});
+		}
+		return newLeft;
+	},
+	
 	handleEventsDragging: function(event) {
 		//Mojo.Log.info("day-assistant handleEventsDragging");
 		if (this.event_being_dragged) {
@@ -3214,6 +3428,15 @@ var DayAssistant = Class.create({
 				this.dragLastPointY = pointerY;
 			}
 		
+			var pointerX = event.move.x;
+	    if (this.dragLastPointX != pointerX) {
+				// Calculate the delta of the current point and the last point
+		  	var newOffsetX = pointerX - this.dragLastPointX;
+				// Move the element based off of the delta
+		  	this.moveElementX(target, newOffsetX);
+				this.dragLastPointX = pointerX;
+			}
+		
 			return Mojo.Gesture.CONSUMED_EVENT;
 		}
 	},
@@ -3363,31 +3586,43 @@ var DayAssistant = Class.create({
 		//Mojo.Log.info("day-assistant handleEventsDragEnd");
 		
 		if (this.event_being_dragged) {
-			var itemTop = this.event_being_dragged.positionedOffset().top;
-			
-			// Calculate how much "time" the user has moved the event.  When the event is retrieved
-			// we use this delta to calculate the new start time.  Can not calculate the new start
-			// time here, because for events that overlap days, this.dragStartHour may not reflect
-			// the actual start time of the event
-			this.newTimeDeltaInMinutes = this.ptToHalfHour(itemTop-this.event_being_held.top) * 30;
-			
-			// Set these to undefined since we use newTimeDeltaInMinutes to determing the new start time
-			// in gotEventForUpdateTime
-			this.newHour = undefined;
-			this.newMinutes = undefined;
-			
-			// Show the event in its new position.  At this point, the CalendarEvent in the
-			// database hasn't been updated with the new time, but we can move the event
-			// visually first
-			this.event_being_held.origDragTop = this.event_being_held.top;
-			
-			this.event_being_held.top = itemTop;
-			this.renderEvent(this.THIS_DAY, this.event_being_held, false);
+			var itemLeft = this.event_being_dragged.positionedOffset().left;
+			if (itemLeft > 100) {
+				this.eventToBeDeleted = this.event_being_held;
+				this.deletedeventId = this.event_being_held.id;
+				getCalendarService().getEvent(this.event_being_held.id, this.gotEventInlineDelete.bind(this),this.gotEventInlineDeleteFailed.bind(this), this.controller);
+				// Reset the dragging state
+				this.resetEventBeingDragged();
 
-			// Retrieve the event from the calendar service so we can set the new start time
-			getCalendarService().getEvent(this.event_being_held.id, this.gotEventForUpdateTime.bind(this),this.gotEventFailed.bind(this), this.controller);
-			
-			return Mojo.Gesture.CONSUMED_EVENT;
+				return Mojo.Gesture.CONSUMED_EVENT;
+			} else {
+				var itemTop = this.event_being_dragged.positionedOffset().top;
+				
+				// Calculate how much "time" the user has moved the event.  When the event is retrieved
+				// we use this delta to calculate the new start time.  Can not calculate the new start
+				// time here, because for events that overlap days, this.dragStartHour may not reflect
+				// the actual start time of the event
+				this.newTimeDeltaInMinutes = this.ptToHalfHour(itemTop-this.event_being_held.top) * 30;
+				
+				// Set these to undefined since we use newTimeDeltaInMinutes to determing the new start time
+				// in gotEventForUpdateTime
+				this.newHour = undefined;
+				this.newMinutes = undefined;
+				
+				// Show the event in its new position.  At this point, the CalendarEvent in the
+				// database hasn't been updated with the new time, but we can move the event
+				// visually first
+				this.event_being_held.origDragTop = this.event_being_held.top;
+				
+				this.event_being_held.top = itemTop;
+				this.event_being_held.left = 0;
+				this.renderEvent(this.THIS_DAY, this.event_being_held, false);
+	
+				// Retrieve the event from the calendar service so we can set the new start time
+				getCalendarService().getEvent(this.event_being_held.id, this.gotEventForUpdateTime.bind(this),this.gotEventFailed.bind(this), this.controller);
+				
+				return Mojo.Gesture.CONSUMED_EVENT;
+			}
 		}
 	},
 	
diff --git a/usr/palm/applications/com.palm.app.calendar/app/controllers/edit-assistant.js b/usr/palm/applications/com.palm.app.calendar/app/controllers/edit-assistant.js
index 9ba9c70..37be245 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/controllers/edit-assistant.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/controllers/edit-assistant.js
@@ -8,6 +8,7 @@ var EditAssistant = Class.create({
 	                											 {label:$L('Get Directions'), command:'direction', disabled:false}] 
 	                													 				
 							},
+							{label:$L('Edit event as new'), command:'editAsNewEvent', disabled:false},
 							{label:$L('Delete event'), command:'deleteEvent', disabled:false},
 							{label:$L('Preferences & Accounts'), command:Mojo.Menu.prefsCmd, disabled: true},
 							{label:$L('Help'), command:Mojo.Menu.helpCmd, disabled:false}]
@@ -297,6 +298,12 @@ var EditAssistant = Class.create({
 		
 		// Delete event menu item.  Users can delete new and existing events
 		if(!this.isReadOnlyEvent)
+			this.appMenuModel.items[3].disabled = false;   
+		else
+			this.appMenuModel.items[3].disabled = true; 
+
+		// Edit as new event menu item. Users cannot edit new items as a new item
+		if(this.targetEvent.id > 0)
 			this.appMenuModel.items[2].disabled = false;   
 		else
 			this.appMenuModel.items[2].disabled = true; 
@@ -443,18 +450,68 @@ var EditAssistant = Class.create({
 						 '-PT5M', // Do Not Localize
 						 '-PT10M', //Do not localize
 						 '-PT15M', // Do NOT Localize
+						 '-PT20M', // Do NOT Localize
+						 '-PT25M', // Do NOT Localize
 						 '-PT30M', // Do NOT Localize
+						 '-PT35M', // Do NOT Localize
+						 '-PT45M', // Do NOT Localize
 						 '-PT1H', // Do NOT Localize
-						 '-P1D' // Do NOT Localize
+						 '-PT90M', // Do NOT Localize
+						 '-PT2H', // Do NOT Localize
+						 '-PT150M', // Do NOT Localize
+						 '-PT3H', // Do NOT Localize
+						 '-PT220M', // Do NOT Localize
+						 '-PT4H', // Do NOT Localize
+						 '-PT5H', // Do NOT Localize
+						 '-PT6H', // Do NOT Localize
+						 '-PT7H', // Do NOT Localize
+						 '-PT8H', // Do NOT Localize
+						 '-PT10H', // Do NOT Localize
+						 '-PT12H', // Do NOT Localize	
+						 '-PT23H', // Do NOT Localize
+						 '-P1D', // Do NOT Localize
+						'-P36H', // Do NOT Localize
+	 					'-P2D', // Do NOT Localize
+						'-P60H', // Do NOT Localize	
+	 					'-P3D', // Do NOT Localize
+						'-P84H', // Do NOT Localize
+						'-P4D', // Do NOT Localize
+						'-P5D', // Do NOT Localize
+						'-P6D', // Do NOT Localize			
+	 					'-P1W', // Do NOT Localize
+						'-P2W', // Do NOT Localize
+						'-P3W', // Do NOT Localize
+						'-P4W', // Do NOT Localize
+						'-P8W', // Do NOT Localize
+						'-P12W', // Do NOT Localize
+						'-P16W', // Do NOT Localize
+						'-P20W', // Do NOT Localize
+						'-P24W', // Do NOT Localize
+						'-P52W' // Do NOT Localize
 						]
 						},
 			alarmsAllday: {
 				list: [ 'none', // Do NOT Localize
 						'-PT0M',// DO NOT Localize
 	 					'-P1D', // Do NOT Localize
+						'-P36H', // Do NOT Localize
 	 					'-P2D', // Do NOT Localize
+						'-P60H', // Do NOT Localize	
 	 					'-P3D', // Do NOT Localize
+						'-P84H', // Do NOT Localize
+						'-P4D', // Do NOT Localize
+						'-P5D', // Do NOT Localize
+						'-P6D', // Do NOT Localize			
 	 					'-P1W', // Do NOT Localize
+						'-P2W', // Do NOT Localize
+						'-P3W', // Do NOT Localize
+						'-P4W', // Do NOT Localize
+						'-P8W', // Do NOT Localize
+						'-P12W', // Do NOT Localize
+						'-P16W', // Do NOT Localize
+						'-P20W', // Do NOT Localize
+						'-P24W', // Do NOT Localize
+						'-P52W' // Do NOT Localize
 					 ]
 					}
 		};
@@ -664,22 +721,33 @@ var EditAssistant = Class.create({
 	 },
 	 handleCommand: function(event) {
 		if(event.type == Mojo.Event.command) {
-			if(event.command == 'deleteEvent') {
-				Event.stop(event);
-				this.deletedeventId = this.targetEvent.id;
-				this.handleDelete(event);
-			} else if (event.command == Mojo.Menu.prefsCmd) {
-				Event.stop(event);
-				this.controller.stageController.pushScene('prefs');
-			}else if(event.command =='copy'){
-				//@todo
-			}else if(event.command == Mojo.Menu.helpCmd){
-				getAppManagerService().launchHelp(this.controller);
-			} else if(event.command == 'map'){
-				getAppManagerService().launchMaps(this.controller,this.targetEvent.location,false);
-			}else if(event.command == 'direction'){
-				getAppManagerService().launchMaps(this.controller,this.targetEvent.location,true);								
-			}
+			try {
+				if(event.command == 'deleteEvent') {
+					Event.stop(event);
+					this.deletedeventId = this.targetEvent.id;
+					this.handleDelete(event);
+				} else if (event.command == Mojo.Menu.prefsCmd) {
+					Event.stop(event);
+					this.controller.stageController.pushScene('prefs');
+				}else if(event.command =='editAsNewEvent'){
+					Event.stop(event);
+					this.targetEvent = Object.clone(this.targetEvent);
+					this.targetId = 0;
+					delete this.targetEvent.id;
+					this.targetEvent.parentId = 0;
+	
+					this.renderEvent(this.targetEvent);
+					this.edit_infoHandler();
+				}else if(event.command =='copy'){
+					//@todo
+				}else if(event.command == Mojo.Menu.helpCmd){
+					getAppManagerService().launchHelp(this.controller);
+				} else if(event.command == 'map'){
+					getAppManagerService().launchMaps(this.controller,this.targetEvent.location,false);
+				}else if(event.command == 'direction'){
+					getAppManagerService().launchMaps(this.controller,this.targetEvent.location,true);								
+				}
+			} catch (e) {}
 		}
 		else if(event.type == Mojo.Event.commandEnable && event.command == Mojo.Menu.prefsCmd) {
 			// Enable prefs menuitem for this scene.
diff --git a/usr/palm/applications/com.palm.app.calendar/app/controllers/month-assistant.js b/usr/palm/applications/com.palm.app.calendar/app/controllers/month-assistant.js
index 747fcb3..8975b88 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/controllers/month-assistant.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/controllers/month-assistant.js
@@ -5,29 +5,66 @@ var MONTH_DAY_ID_FORMAT = 'MMMM dd yyyy';	// IMPORTANT: DO NOT LOCALIZE!
 var MonthAssistant = Class.create({
 				
 	reminderMenuItemId: 3,
+	//fullEvts: null,
+	 
 	
 	initialize: function() {
  		this.appMenuModel = { visible:true, 
 					label:$L('Calendar'), 
 					items: [
 						Mojo.Menu.editItem,
+						{label:$L('New'), items: [{label:$L('Event'), shortcut:'n', command:'newtimed', disabled:false},
+	                								{label:$L('All day event'), shortcut:'d', command:'newallday', disabled:false}] 
+						},
 						{label:$L('Sync Now'), command:'sync', id: 0},
 						{label:$L('Show today'), command:'today', id: 1},
 						{label:$L('Jump to...'), command:'jumpto', id: 2},
 						{label:$L('Missed reminders...'), command:'reminders', id: 3},
 						{label:$L('Preferences & Accounts'), command:Mojo.Menu.prefsCmd, checkEnabled: true},
+						this.enhancedMenuItem = {label:$L('Enhanced View'), command:'enhanced', chosen: true},
 						{label:$L('Help'), command:Mojo.Menu.helpCmd, disabled:false}
 					]
 				};
 				
 		this.scrollerModel = { scrollbars: false, mode: "vertical-snap", snapIndex: 0, snapElements: { y: [] } };
+		this.enhancedView = false;
+		this.updateFromScroll = false;
+		var cookie = new Mojo.Model.Cookie('MonthViewEnhanced');
+		if (cookie !== undefined) {
+			this.enhancedView = cookie.get();
+		}
 	},
+
+	colors: {"cal-color-blue": "rgba(145,211,234,0.5)",
+		"cal-color-green": "rgba(140,240,140,0.5)",
+		"cal-color-yellow": "rgba(232,227,124,0.5)",
+		"cal-color-gray": "rgba(194,194,194,0.5)",
+		"cal-color-orange": "rgba(251,180,116,0.5)",
+		"cal-color-pink": "rgba(245,156,188,0.5)",
+		"cal-color-red": "rgba(255,151,151,0.4)",
+		"cal-color-purple": "rgba(217,183,255,0.5)",
+		"cal-color-teal": "rgba(114,223,210,0.5)"},
+
+	placements: {"0": "top left",
+		"1": "top center",
+		"2": "top right",
+		"3": "center left",
+		"4": "center right",
+		"5": "bottom left",
+		"6": "bottom center",
+		"7": "bottom right"},
 														
  	setupMonth: function(startDate, endDate, callbackfn) 
 	{
+		if (this.enhancedView) getCalendarService().getEvents(getCurrentCal(), startDate.getTime(), endDate.getTime(), this.getEventsCallback.bind(this), this.controller, this.getEventsFailCallback/*, {useSlices: true}*/);
 		getCalendarService().getBusyDays(getCurrentCal(), startDate.getTime(), endDate.getTime(), callbackfn, this.controller);
 	},
-	
+
+	getEventsCallback: function(resp)
+	{
+		this.fullEvts = resp.days;
+	},
+
 	buildViewHeader: function() 
 	{
 		//Mojo.Log.info("month-assistant: buildViewHeader");
@@ -37,7 +74,13 @@ var MonthAssistant = Class.create({
 	
 	buildMonthTitle: function() 
 	{
-		this.mvTitle.innerText = Mojo.Format.formatDate(this.monthDate, $L("MMM yyyy")); // Localize this date format string
+		var wn = new Date(this.monthDate);
+		wn.setDate(1);
+		var firstWeek = wn.getISO8601Week();	
+		wn.setMonth(wn.getMonth()+1);
+		wn.setDate(wn.getDate()-1);
+		var lastWeek = wn.getISO8601Week();
+		this.mvTitle.innerText = Mojo.Format.formatDate(this.monthDate, $L("MMM yyyy")) + ", " + $L("Week") + " " + firstWeek + "-" + lastWeek; // Localize this date format string
   	},
 
  	buildDayHeader: function() {
@@ -161,9 +204,18 @@ var MonthAssistant = Class.create({
 			// Don't set CSS if the value is the same.  You'd think this wouldn't do anything
 			// but WebKit considers all attribute changes to have potential side effects - so this
 			// does much damage to performance and is best avoided
+			
 			for (var i = 0; i < 3; i++)
 			{
 				var cn = ochild.className;
+				if (this.updateFromScroll && this.enhancedView) {
+					if (!ochild.style || (ochild.style.length == 0)) {
+						child.style.backgroundColor = "";
+					} else if (ochild.style.length > 0) {
+						var bgcolor = ochild.style.backgroundColor;
+						child.style.backgroundColor = bgcolor;
+					}
+				}
 				if (child.className != cn) 
 				{
 					child.className = cn;
@@ -181,11 +233,22 @@ var MonthAssistant = Class.create({
 					cls += ' weekend';
 				}
 			}
+			if (this.updateFromScroll && this.enhancedView) {
+				if (!oday.style || (oday.style.length == 0)) {
+					day.setStyle({backgroundImage: "", backgroundPosition: "", backgroundRepeat: ""});
+					//day.setStyle({backgroundPosition: ""});
+					//day.setStyle({backgroundRepeat: ""});
+				} else if (oday.style.length > 0) {
+					day.setStyle({backgroundImage: oday.getStyle("backgroundImage")});
+					day.setStyle({backgroundPosition: oday.getStyle("backgroundPosition")});
+					day.setStyle({backgroundRepeat: oday.getStyle("backgroundRepeat")});
+				}
+			}
 			if (day.className != cls) 
 			{
 				day.className = cls;
 			}
-			
+
 			// Move the day forwards, allowing for month endings
 			if (thisday < mday.limit)
 			{
@@ -227,10 +290,17 @@ var MonthAssistant = Class.create({
 			var child = day.firstChild;
 			var ochild = oday.firstChild;
 			var thisday = mday.day;
-			
 			for (var i = 0; i < 3; i++)
 			{
 				var cn = ochild.className;
+				if (this.updateFromScroll && this.enhancedView) {
+					if (!ochild.style || (ochild.style.length == 0)) {
+						child.style.backgroundColor = "";
+					} else if (ochild.style.length > 0) {
+						var bgcolor = ochild.style.backgroundColor;
+						child.style.backgroundColor = bgcolor;
+					}
+				}
 				if (child.className != cn) 
 				{
 					child.className = cn;
@@ -248,6 +318,17 @@ var MonthAssistant = Class.create({
 					cls += ' weekend';
 				}
 			}
+			if (this.updateFromScroll && this.enhancedView) {
+				if (!oday.style || (oday.style.length == 0)) {
+					day.setStyle({backgroundImage: "", backgroundPosition: "", backgroundRepeat: ""});
+					//day.setStyle({backgroundPosition: ""});
+					//day.setStyle({backgroundRepeat: ""});
+				} else if (oday.style.length > 0) {
+					day.setStyle({backgroundImage: oday.getStyle("backgroundImage")});
+					day.setStyle({backgroundPosition: oday.getStyle("backgroundPosition")});
+					day.setStyle({backgroundRepeat: oday.getStyle("backgroundRepeat")});
+				}
+			}
 			if (day.className != cls) 
 			{
 				day.className = cls;
@@ -308,6 +389,7 @@ var MonthAssistant = Class.create({
 			var mday = { day: date.getDate(), limit: 0, month: date.getMonth() };
 			mday.limit = this._monthDays[mday.month];
 			mday.dayOfWeek = date.getDay();
+			this.updateFromScroll = true;
 		
 			for (r = 0; r < 18 - wdiff; r++) 
 			{
@@ -324,6 +406,7 @@ var MonthAssistant = Class.create({
 			var mday = { day: date.getDate(), limit: 0, month: date.getMonth() };
 			mday.limit = this._monthDays[mday.month];
 			mday.dayOfWeek = date.getDay();
+			this.updateFromScroll = true;
 		
 			for (r = 17; r > -wdiff; r--)
 			{
@@ -340,6 +423,7 @@ var MonthAssistant = Class.create({
 			var mday = { day: date.getDate(), limit: 0, month: date.getMonth() };
 			mday.limit = this._monthDays[mday.month];
 			mday.dayOfWeek = date.getDay();
+			this.updateFromScroll = false;
 		
 			for (var r = 0; r < 18; r++) 
 			{
@@ -362,23 +446,40 @@ var MonthAssistant = Class.create({
 		var weekCell = this._months.rows[0];
 		var dayCell = weekCell.cells[0];
 		
+		var cls;
 		var days = response.days;
 		var daylen = days.length - 1; // We get back more days of info that we want - 1 more in fact, because its inclusive, rather than exclusive
 		for (var d = 0; d < daylen; d++) 
 		{
 			var day = this._token2state(days.charCodeAt(d));
-			
+			var bgcolor = "";
+			if (this.enhancedView) {
+				var bgcolor = "";
+				for (var k=0; k<this.fullEvts[d].allDayEvents.length; k++)
+				{
+					if (bgcolor == "")
+					{
+						bgcolor = this.colors[this.fullEvts[d].allDayEvents[k].calendarColor];
+					}
+					else if (bgcolor != this.colors[this.fullEvts[d].allDayEvents[k].calendarColor])
+					{
+						bgcolor = "rgba(169,169,169,0.5)";
+						break;
+					}
+				}
+			}
+
 			var child = dayCell.firstChild;
-			var cls;
 			for (var i = 1; i < 8; i <<= 1)
 			{
-				if (day & (i << 3)) 
+				child.style.backgroundColor = bgcolor;
+				if (day & (i << 3))
 				{
-					cls = "monthview-busy-time " + calStyle;
+					cls = "monthview-partly-busy-time " + calStyle;
 				}
 				else if (day & i) 
 				{
-					cls = "monthview-busy-time";
+					cls = "monthview-partly-busy-time";
 				}
 				else 
 				{
@@ -390,7 +491,23 @@ var MonthAssistant = Class.create({
 				}
 				child = child.nextSibling;
 			}
-			
+
+			//Mojo.Log.error(Object.toJSON(this.fullEvts[d]));
+			if (this.enhancedView) {
+				for (var k=0; k<this.fullEvts[d].events.length; k++) {
+					// get more details
+					if (!this.fullEvts[d].events[k].subject && this.fullEvts[d].events[k].gotFullDetails === undefined) {
+						// get more infos for this event
+						getCalendarService().getEvent(this.fullEvts[d].events[k].id,
+								this.getEventDetails.bind(this, this.fullEvts[d].events, k, dayCell),
+								function(response) {Mojo.Log.error(response.errorText);},
+								this.controller);
+					}
+				}
+	
+				this.renderIcons(this.fullEvts[d].events, dayCell);
+			}
+
 			// Advance the dayCell
 			if (d % 7 == 6) 
 			{
@@ -404,6 +521,52 @@ var MonthAssistant = Class.create({
 			}
 		}
 	},
+
+	getEventDetails: function(events, k, dayCell, details) {
+		events[k].alarm = details.alarm;
+		events[k].note = details.note;
+		events[k].gotFullDetails = true;
+		if (k == (events.length-1)) {
+			this.renderIcons(events, dayCell);
+		}
+	},
+	
+	renderIcons: function(events, dayCell) {
+		var bgimage = "";
+		var bgrepeat = "";
+		var bgplacement = "";
+		var imgIdx = 0;
+		for (var k=0; k<events.length; k++) {
+			if (events[k].note !== undefined) {
+				try {
+					var start = events[k].note.indexOf("ICON=");
+					if (start > -1) {
+						start += 5;
+						var end = events[k].note.indexOf(";");
+						if (end > start) {
+							var icon = events[k].note.substring(start, end);
+							if (bgimage != "") { bgimage += ", "; }
+							bgimage += "url(/media/internal/scrims/ubercalendar/icon-" + icon + ".png)";
+							if (bgrepeat != "") { bgrepeat += ", "; }
+							bgrepeat += "no-repeat";
+							if (bgplacement != "") { bgplacement += ", "; }
+							bgplacement += this.placements[imgIdx];
+							imgIdx++;
+							if (imgIdx >= this.placements.length) {
+								break;
+							}
+						}
+					}
+				} catch(e) {Mojo.Log.error(bgimage);
+							Mojo.Log.error(bgrepeat);
+						Mojo.Log.error(bgplacement);
+				}
+			}
+		}
+		dayCell.setStyle({backgroundImage: bgimage, backgroundRepeat: bgrepeat, backgroundPosition: bgplacement});
+		//dayCell.setStyle({backgroundRepeat: bgrepeat});
+		//dayCell.setStyle({backgroundPosition: bgplacement});
+	},
 	
  	buildDays: function() 
 	{
@@ -637,11 +800,16 @@ var MonthAssistant = Class.create({
         this.menuModel = 
         {
             visible: true,
-            items: [{}, 
+            items: [{label: $L('Event'), icon: 'new-timed', command: 'newtimed'}, 
             {
                 label: $L('Views'),
                 toggleCmd: 'month',
                 items: [
+				{
+					label:$L('Agenda'),
+					icon: 'menu-agenda',
+					command:'agenda'
+				},
                 {
                     label: $L('Day'),
                     icon: 'menu-day',
@@ -657,14 +825,19 @@ var MonthAssistant = Class.create({
                     icon: 'menu-month',
                     command: 'month'
                 }]
-            }, {}, ]
+            }, {label: $L('All day event'), icon: 'new-allday', command: 'newallday'}, ]
         };
 		
 		this.controller.setupWidget(Mojo.Menu.commandMenu, undefined, this.menuModel);
+		this.enhancedMenuItem.chosen = this.enhancedView;
 		this.controller.setupWidget(Mojo.Menu.appMenu, {omitDefaultItems:true}, this.appMenuModel);
 		this.remindersUpdated(); 	// Update missed reminders menu item
 		
+		var cookie = new Mojo.Model.Cookie("LastView");
+		cookie.put("month");
+		
 		this.CalSelectorHandler = this.calSelector.bindAsEventListener(this);
+		//this.getCalId = DayAssistant.getCalId();
   	},
   
 	showJumpTo: function() {
@@ -715,6 +888,12 @@ var MonthAssistant = Class.create({
 			} else if (event.command == Mojo.Menu.prefsCmd) {
 				Event.stop(event);
 				this.controller.stageController.pushScene('prefs');
+			} else if(event.command =="newtimed"){
+				Event.stop(event);
+				this.controller.stageController.pushScene('edit', 0, 0, false, this.getCalId()/*calendarId*/,0/*subject*/);
+			} else if(event.command=="newallday"){
+				Event.stop(event);
+				this.controller.stageController.pushScene('edit', 0, 0, true, this.getCalId(),0/*subject*/);
 			}else if(event.command == Mojo.Menu.helpCmd){
 				getAppManagerService().launchHelp(this.controller);
 			} else if (event.command == 'sync') {
@@ -726,9 +905,26 @@ var MonthAssistant = Class.create({
 			}else if (event.command == 'jumpto') {
 				Event.stop(event);
 				this.showJumpTo();
+			} else if (event.command == 'enhanced') {
+				Event.stop(event);
+				this.enhancedView = !this.enhancedView;
+				var cookie = new Mojo.Model.Cookie('MonthViewEnhanced');
+				cookie.put(this.enhancedView);
+				this.enhancedMenuItem.chosen = this.enhancedView;
+				this.controller.modelChanged(this.appMenuModel);
 			} else if (event.command == 'reminders') {
 				Event.stop(event);
 				this.controller.stageController.pushScene('reminder-list');
+			} else if (event.command == 'agenda') {
+				Event.stop(event);
+				this.controller.serviceRequest('palm://com.palm.applicationManager', {
+					method: 'launch',
+					parameters: {
+						id: 'com.palm.app.agenda'
+					}
+				});
+				this.menuModel.items[1].toggleCmd = 'month';
+				this.controller.modelChanged(this.menuModel, this);
 			}				
 		}
 		else if(event.type == Mojo.Event.commandEnable && event.command == Mojo.Menu.prefsCmd) {
@@ -788,6 +984,7 @@ var MonthAssistant = Class.create({
 			DayAssistant.dayCache = new Hash();
 			DayAssistant.cacheSubscribed = new Hash();
 			this.pendingCalendarSettingsUpdate = false;
+			this.fullEvts = new Hash();
 		}
 	},
 
@@ -935,7 +1132,31 @@ var MonthAssistant = Class.create({
 			DayAssistant.cacheSize = 0;
 			DayAssistant.dayCache = new Hash();
 			DayAssistant.cacheSubscribed = new Hash();
+			this.fullEvts = new Hash();
+		}
+	},
+	
+	getCalId :function(){
+		var defaultCalId;
+		if (getCurrentCal() == 'all') {
+			// Create an event in the calendar specified by the defaultCalId preference
+			defaultCalId = getPrefsManager().getDefaultCalendar();
+			
+			if (defaultCalId == 0) {
+				defaultCalId = getCalendarsManager().getLocalCalendarId();
+			}
+			
+			// Check to see if the calendarId is a valid one
+			if (getCalendarsManager().getCalName("id"+defaultCalId) == undefined) {
+				// The default calendar doesn't exist anymore so let's just create it
+				// in Local
+				defaultCalId = getCalendarsManager().getLocalCalendarId();
+			}
+			
+		}else{
+			defaultCalId =getCurrentCal();
 		}
+		return "id"+defaultCalId;
 	},
 	
 	// ** MENU **
diff --git a/usr/palm/applications/com.palm.app.calendar/app/controllers/prefs-assistant.js b/usr/palm/applications/com.palm.app.calendar/app/controllers/prefs-assistant.js
index cebe803..8f687e6 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/controllers/prefs-assistant.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/controllers/prefs-assistant.js
@@ -3,7 +3,7 @@
 var THIRTY_MINUTES = $L("30 minutes");
 var ONE_HOUR = $L("1 hour");
 var TWO_HOURS = $L("2 hours");
-var numTimedAlarm = 7;		
+var numTimedAlarm = 42; //7;		
 var PrefsAssistant = Class.create({
 				 
 	initialize: function() {
@@ -189,19 +189,21 @@ var PrefsAssistant = Class.create({
 	
 	getCurrentAllDayAlarmString: function() {
 		var index = 0;
-		for (index = 0; index < this.alarms.size(); index++) {
+		for (index = 0; index < this.allDayAlarms.size(); index++) {
 			if (this.allDayAlarms[index].command == this.prefs.defaultAllDayEventReminder)
 				return this.allDayAlarms[index].label;
 		}
 	},
 	
+//This should be one function that takes an array for the values needed and the array that is to be updated and the defaultPref
+//returns the default str value	
 	formatAlarmStringsCallback: function(response) {
 		//Mojo.Log.info('prefs-assistant: formatAlarmStringsCallback');
 		var index = 0;
 		var currentTimedAlarmStr = "";
 		var currentAllDayAlarmStr = "";
-		
-		
+
+		numTimedAlarm = this.alarms.size();
 		for (index = 0; index < this.alarms.size() + this.allDayAlarms.size() - 1; index++) {
 			alarmStr = response[index];
 			
@@ -234,6 +236,7 @@ var PrefsAssistant = Class.create({
 	
 	buildAlarmsMenu: function() {
 		//Mojo.Log.info('prefs-assistant: buildAlarmsMenu');
+		/*
 		var params =[this.alarms[0].command, 
 					 this.alarms[1].command, 
 					 this.alarms[2].command,
@@ -247,7 +250,14 @@ var PrefsAssistant = Class.create({
 					 this.allDayAlarms[2].command,
 					 this.allDayAlarms[3].command,
 					 this.allDayAlarms[4].command];
-		
+		*/
+		var params = [];
+		for (var i=0; i<this.alarms.size(); i++) {
+			params.push(this.alarms[i].command);
+		}
+		for (var i=1; i<this.allDayAlarms.size(); i++) {
+			params.push(this.allDayAlarms[i].command);
+		}
 		/*this.request = new Mojo.Service.Request(CalendarMojoService.identifier + '/formatter', {
 			method: 'formatAlarmStrings',
 			parameters: params,
@@ -377,6 +387,113 @@ var PrefsAssistant = Class.create({
 	setup: function() {
 		// Retrieve the prefs from the service
 		this.prefs = getPrefs();
+
+		//get default snooze duration from cookie
+		this.snoozeCookie = new Mojo.Model.Cookie("com.palm.app.calendar.defaultsnoozeduration");
+		if (this.snoozeCookie) {
+			var cookie = this.snoozeCookie.get();
+			if (cookie) {			
+				if (cookie.defaultSnoozeDuration) {
+					this.prefs.defaultSnoozeDuration = cookie.defaultSnoozeDuration;
+				}
+			}
+		}
+
+		//get notification repeat interval and max repeat values from cookie
+		this.notificationCookie = new Mojo.Model.Cookie("com.palm.app.calendar.notificationrepeat");
+		if (this.notificationCookie) {
+			var notificationCookie = this.notificationCookie.get();
+			if (notificationCookie) {
+				if(notificationCookie.notificationRepeatInterval) {
+					this.prefs.notificationRepeatInterval = notificationCookie.notificationRepeatInterval;
+				} else {
+					//set default value to 2 minutes
+					this.prefs.notificationRepeatInterval = '2';
+				}
+				
+				if (notificationCookie.notificationMaxRepeat) {
+					this.prefs.notificationMaxRepeat = notificationCookie.notificationMaxRepeat;
+				} else {
+					//set default value to unlimited
+					this.prefs.notificationMaxRepeat = '99999';
+				}
+			}
+		}
+
+		// prepare some additional widgets (on the fly to prevent editing of translated resources)
+		var newDiv11 = document.createElement('div');
+		var newDiv12 = document.createElement('div');
+		var newDiv13 = document.createElement('div');
+		var newDiv14 = document.createElement('div');
+		newDiv11.setAttribute('class', "palm-list");
+		newDiv12.setAttribute('class', "palm-row");
+		newDiv12.setAttribute('style', "margin-top:15px;");
+		newDiv12.setAttribute('x-mojo-tap-highlight', "momentary");
+		newDiv13.setAttribute('class', "palm-row-wrapper");
+		newDiv14.setAttribute('id', "pv_default_snooze_duration");
+		newDiv14.setAttribute('x-mojo-element', "ListSelector");
+		newDiv13.appendChild(newDiv14);
+		newDiv12.appendChild(newDiv13);
+		newDiv11.appendChild(newDiv12);
+
+		var newDiv22 = document.createElement('div');
+		var newDiv23 = document.createElement('div');
+		var newDiv24 = document.createElement('div');
+		newDiv22.setAttribute('class', "palm-row");
+		//newDiv22.setAttribute('style', "margin-top:15px;");
+		newDiv22.setAttribute('x-mojo-tap-highlight', "momentary");
+		newDiv23.setAttribute('class', "palm-row-wrapper");
+		newDiv24.setAttribute('id', "pv_notification_repeat_interval");
+		newDiv24.setAttribute('x-mojo-element', "ListSelector");
+		newDiv23.appendChild(newDiv24);
+		newDiv22.appendChild(newDiv23);
+		newDiv11.appendChild(newDiv22);
+
+		var newDiv32 = document.createElement('div');
+		var newDiv33 = document.createElement('div');
+		var newDiv34 = document.createElement('div');
+		newDiv32.setAttribute('class', "palm-row last");
+		//newDiv32.setAttribute('style', "margin-top:15px;");
+		newDiv32.setAttribute('x-mojo-tap-highlight', "momentary");
+		newDiv33.setAttribute('class', "palm-row-wrapper");
+		newDiv34.setAttribute('id', "pv_notification_max_repeat");
+		newDiv34.setAttribute('x-mojo-element', "ListSelector");
+		newDiv33.appendChild(newDiv34);
+		newDiv32.appendChild(newDiv33);
+		newDiv11.appendChild(newDiv32);
+		this.controller.get('pv_alarmsound_div').appendChild(newDiv11);
+
+		this.controller.setupWidget('pv_default_snooze_duration',
+									this.snoozeAttrs = {
+										modelProperty: 'command',
+										label: $L("Snooze"),
+								      	choices: this.snoozeDurations
+									},
+									this.snoozeModel = {
+										command: this.prefs.defaultSnoozeDuration
+									}
+		);
+		this.controller.setupWidget('pv_notification_repeat_interval',
+									this.repeatIntervalAttrs = {
+										modelProperty: 'value',
+										label: $L("Repeat Interval"),
+								      	choices: this.notificationRepeatIntervals
+									},
+									this.repeatIntervalModel = {
+										value: this.prefs.notificationRepeatInterval
+									}
+		);
+		this.controller.setupWidget('pv_notification_max_repeat',
+									this.maxRepeatAttrs = {
+										modelProperty: 'value',
+										label: $L("Max. Repeat"),
+								      	choices: this.notificationMaxRepeats
+									},
+									this.maxRepeatModel = {
+										value: this.prefs.notificationMaxRepeat
+									}
+		);
+
 		this.requests = [];
 		this.syncSources = [];
 		this.dirty = false;
@@ -399,7 +516,7 @@ var PrefsAssistant = Class.create({
 		};
 	    this.controller.setupWidget('pv_startofday_timepicker', {label: $L("Start")}, this.startTimeModel);
 	    this.controller.listen('pv_startofday_timepicker',Mojo.Event.propertyChange, this.startOfDayCallback.bindAsEventListener(this));
-		
+
 		var endTime = new Date(this.prefs.endTimeOfDay);
 		endTime.addMinutes(endTime.getTimezoneOffset());
 		var utcEndTime = endTime.getTime();
@@ -408,7 +525,7 @@ var PrefsAssistant = Class.create({
 		};
 	    this.controller.setupWidget('pv_endofday_timepicker', {label: $L("End")}, this.endTimeModel);
 	    this.controller.listen('pv_endofday_timepicker',Mojo.Event.propertyChange, this.endOfDayCallback.bindAsEventListener(this));
-				
+		
 		var soundSelections = {
       	modelProperty: 'value',
       	label: $L("Alert"),
@@ -419,7 +536,6 @@ var PrefsAssistant = Class.create({
 			{label: $L('Mute'),value:"4"}
       		]
       	};
-	
 		
 		this.notificationSoundModel = {
         	value:this.convertSoundDBToPopupVal(this.prefs.alarmSoundOn)
@@ -473,6 +589,18 @@ var PrefsAssistant = Class.create({
 		
 		if (this.dirty)
 			this.savePrefs();
+			
+		//save default snooze duration to cookie	
+		if (this.snoozeCookie) {
+			this.snoozeCookie.put({defaultSnoozeDuration: this.prefs.defaultSnoozeDuration});
+		}
+		//save notification repeat preferences
+		if (this.notificationCookie) {
+			this.notificationCookie.put({
+										notificationRepeatInterval: this.prefs.notificationRepeatInterval,
+										notificationMaxRepeat: this.prefs.notificationMaxRepeat
+										});
+		}
 	},
 	
 	syncAllCallback: function(response) {
@@ -504,7 +632,7 @@ var PrefsAssistant = Class.create({
 		this.controller.get('pv_default_evt_alarm').observe('mojo-tap', this.defaultEventAlarmClickHandler);
 		this.defaultAllDayEventAlarmClickHandler = this.handleDefaultAllDayEventAlarmClick.bindAsEventListener(this);
 		this.controller.get('pv_default_allday_evt_alarm').observe('mojo-tap', this.defaultAllDayEventAlarmClickHandler);
-				
+		
 		this.newEventDurationClickHandler = this.handleNewEventDurationClick.bindAsEventListener(this);
 		this.controller.get('pv_new_event_duration').observe('mojo-tap', this.newEventDurationClickHandler);	
 	
@@ -529,7 +657,12 @@ var PrefsAssistant = Class.create({
 		this.chooseNotificationRingtone = this.chooseNotificationRingtone.bindAsEventListener(this);
 		this.controller.listen('currentringtonerow',Mojo.Event.tap, this.chooseNotificationRingtone);		
 
-
+		this.snoozeDurationSelectionHandler = this.handleSnoozeDurationSelection.bindAsEventListener(this);
+		this.controller.get('pv_default_snooze_duration').observe(Mojo.Event.propertyChange, this.snoozeDurationSelectionHandler);
+		this.repeatIntervalSelectionHandler = this.handleRepeatIntervalSelection.bindAsEventListener(this);
+		this.controller.get('pv_notification_repeat_interval').observe(Mojo.Event.propertyChange, this.repeatIntervalSelectionHandler);
+		this.maxRepeatSelectionHandler = this.handleMaxRepeatSelection.bindAsEventListener(this);
+		this.controller.get('pv_notification_max_repeat').observe(Mojo.Event.propertyChange, this.maxRepeatSelectionHandler);
 	},
 	
 	handleViewOptionBtnTap :function(){
@@ -562,6 +695,9 @@ var PrefsAssistant = Class.create({
 		
 		this.controller.stopListening('currentringtonerow',Mojo.Event.tap, this.chooseNotificationRingtone);		
 
+		this.controller.get('pv_default_snooze_duration').stopObserving(Mojo.Event.propertyChange, this.snoozeDurationSelectionHandler);
+		this.controller.get('pv_notification_repeat_interval').stopObserving(Mojo.Event.propertyChange, this.repeatIntervalSelectionHandler);
+		this.controller.get('pv_notification_max_repeat').stopObserving(Mojo.Event.propertyChange, this.maxRepeatSelectionHandler);
 	},
 	
 	// *** EVENT HANDLERS ***
@@ -595,6 +731,21 @@ var PrefsAssistant = Class.create({
 			//this.renderDefaultCalendar();
 		}
 	},
+
+	handleSnoozeDurationSelection: function(event) {
+		this.prefs.defaultSnoozeDuration = this.snoozeModel.command;
+Mojo.Log.error("this.prefs.defaultSnoozeDuration", this.prefs.defaultSnoozeDuration);
+	},
+	
+	handleRepeatIntervalSelection: function(event) {
+		this.prefs.notificationRepeatInterval = this.repeatIntervalModel.value;
+Mojo.Log.error("this.prefs.notificationRepeatInterval", this.prefs.notificationRepeatInterval);
+	},
+	
+	handleMaxRepeatSelection: function(event) {
+		this.prefs.notificationMaxRepeat = this.maxRepeatModel.value;
+Mojo.Log.error("this.prefs.notificationMaxRepeat", this.prefs.notificationMaxRepeat);
+	},
 	
 	handleAcctsListSelection: function(event) {
 		var id = event.item.accountId;
@@ -743,35 +894,159 @@ var PrefsAssistant = Class.create({
 				items: this.allDayAlarms
 			});
 	},
-	
+
+
 	// *** WIDGET ATTRS & MODELS
 
 	
 	acctsListAttrs : {
 		itemTemplate: 'prefs/prefs-account',
-		listTemplate: 'shared/group_container',
+		listTemplate: 'shared/group_container'
 	},
 	
 	acctsModel : {
 		listTitle: $L('Accounts'),
-		items: [],
+		items: []
 	},
 	
+	snoozeDurations: [
+		{label:$L('30 Minutes before start'), value:'-30'},
+		{label:$L('15 Minutes before start'), value:'-15'},
+		{label:$L('10 Minutes before start'), value:'-10'},
+		{label:$L('5 Minutes before start'), value:'-5'},
+		{label:$L('At start time'), value:'0'},
+		{label:$L('5 Minutes'), value:'5'},
+		{label:$L('10 Minutes'), value:'10'},
+		{label:$L('15 Minutes'), value:'15'},
+		{label:$L('30 Minutes'), value:'30'},
+		{label:$L('1 Hour'), value:'60'},
+		{label:$L('2 Hours'), value:'120'},
+		{label:$L('4 Hours'), value:'240'},
+		{label:$L('8 Hours'), value:'480'},
+		{label:$L('10 Hours'), value:'600'},
+		{label:$L('12 Hours'), value:'720'},
+		{label:$L('1 Day'), value:'1440'},
+		{label:$L('2 Days'), value:'2880'},
+		{label:$L('3 Days'), value:'4320'},
+		{label:$L('4 Days'), value:'5760'},
+		{label:$L('5 Days'), value:'7200'},
+		{label:$L('6 Days'), value:'8640'},
+		{label:$L('1 Week'), value:'10080'},
+		{label:$L('2 Weeks'), value:'20160'}		
+	],
+
+	notificationRepeatIntervals: [
+		{label:$L('Disabled'), value:'0'},
+		{label:$L('5 Seconds'), value:'.083'},
+		{label:$L('10 Seconds'), value:'.167'},
+		{label:$L('15 Seconds'), value:'.25'},
+		{label:$L('20 Seconds'), value:'.333'},
+		{label:$L('25 Seconds'), value:'.417'},
+		{label:$L('30 Seconds'), value:'.5'},
+		{label:$L('1 Minutes'), value:'1'},
+		{label:$L('2 Minutes'), value:'2'},
+		{label:$L('3 Minutes'), value:'3'},
+		{label:$L('4 Minutes'), value:'4'},
+		{label:$L('5 Minutes'), value:'5'},
+		{label:$L('10 Minutes'), value:'10'},
+		{label:$L('15 Minutes'), value:'15'}
+	],
+	
+	notificationMaxRepeats: [
+		{label:$L('Unlimited'), value:'99999'}, //this should be a large enough value to be conisdered unlimited for our purpose.
+		{label:$L('1'), value:'1'},
+		{label:$L('2'), value:'2'},
+		{label:$L('3'), value:'3'},
+		{label:$L('4'), value:'4'},
+		{label:$L('5'), value:'5'},
+		{label:$L('10'), value:'10'},
+		{label:$L('15'), value:'15'},
+		{label:$L('20'), value:'20'},
+		{label:$L('25'), value:'25'},
+		{label:$L('30'), value:'30'},
+		{label:$L('35'), value:'35'},
+		{label:$L('40'), value:'40'},
+		{label:$L('45'), value:'45'},
+		{label:$L('50'), value:'50'},
+		{label:$L('55'), value:'55'},
+		{label:$L('60'), value:'60'},
+		{label:$L('65'), value:'65'},
+		{label:$L('70'), value:'70'},
+		{label:$L('75'), value:'75'},
+		{label:$L('80'), value:'80'},
+		{label:$L('85'), value:'85'},
+		{label:$L('90'), value:'90'},
+		{label:$L('95'), value:'95'},
+		{label:$L('100'), value:'100'}
+	],
+
 	alarms: [
 		{label: '', command: 'none'},			// Do NOT Localize
-		{label: '', command: '-PT5M'},		//Do Not localize
-		{label: '', command: '-PT10M'},		//Do Not localize
-		{label: '', command: '-PT15M'},		// Do NOT Localize
-		{label: '', command: '-PT30M'},		// Do NOT Localize
-		{label: '', command: '-PT1H'},		// Do NOT Localize
-		{label: '', command: '-P1D'}			// Do NOT Localize	
+		{label: '', command:  '-PT0M'}, //DO NOT Localize
+		{label: '', command:  '-PT5M'}, // Do Not Localize
+		{label: '', command:  '-PT10M'}, //Do not localize
+		{label: '', command:  '-PT15M'}, // Do NOT Localize
+		{label: '', command:  '-PT20M'}, // Do NOT Localize
+		{label: '', command:  '-PT25M'}, // Do NOT Localize
+		{label: '', command:  '-PT30M'}, // Do NOT Localize
+		{label: '', command:  '-PT35M'}, // Do NOT Localize
+		{label: '', command:  '-PT45M'}, // Do NOT Localize
+		{label: '', command:  '-PT1H'}, // Do NOT Localize
+		{label: '', command:  '-PT90M'}, // Do NOT Localize
+		{label: '', command:  '-PT2H'}, // Do NOT Localize
+		{label: '', command:  '-PT150M'}, // Do NOT Localize
+		{label: '', command:  '-PT3H'}, // Do NOT Localize
+		{label: '', command:  '-PT220M'}, // Do NOT Localize
+		{label: '', command:  '-PT4H'}, // Do NOT Localize
+		{label: '', command:  '-PT5H'}, // Do NOT Localize
+		{label: '', command:  '-PT6H'}, // Do NOT Localize
+		{label: '', command:  '-PT7H'}, // Do NOT Localize
+		{label: '', command:  '-PT8H'}, // Do NOT Localize
+		{label: '', command:  '-PT10H'}, // Do NOT Localize
+		{label: '', command:  '-PT12H'}, // Do NOT Localize	
+		{label: '', command:  '-PT23H'}, // Do NOT Localize
+		{label: '', command:  '-P1D'}, // Do NOT Localize
+		{label: '', command: '-P36H'}, // Do NOT Localize
+		{label: '', command: '-P2D'}, // Do NOT Localize
+		{label: '', command: '-P60H'}, // Do NOT Localize	
+		{label: '', command: '-P3D'}, // Do NOT Localize
+		{label: '', command: '-P84H'}, // Do NOT Localize
+		{label: '', command: '-P4D'}, // Do NOT Localize
+		{label: '', command: '-P5D'}, // Do NOT Localize
+		{label: '', command: '-P6D'}, // Do NOT Localize			
+		{label: '', command: '-P1W'}, // Do NOT Localize
+		{label: '', command: '-P2W'}, // Do NOT Localize
+		{label: '', command: '-P3W'}, // Do NOT Localize
+		{label: '', command: '-P4W'}, // Do NOT Localize
+		{label: '', command: '-P8W'}, // Do NOT Localize
+		{label: '', command: '-P12W'}, // Do NOT Localize
+		{label: '', command: '-P16W'}, // Do NOT Localize
+		{label: '', command: '-P20W'}, // Do NOT Localize
+		{label: '', command: '-P24W'}, // Do NOT Localize
+		{label: '', command: '-P52W'} // Do NOT Localize
 	],
 	
 	allDayAlarms: [
 		{label: '', command: 'none'},			// Do NOT Localize
-		{label: '', command: '-P1D'},			// Do NOT Localize
-		{label: '', command: '-P2D'},			// Do NOT Localize
-		{label: '', command: '-P3D'},			// Do NOT Localize
-		{label: '', command: '-P1W'}			// Do NOT Localize		
+		{label: '', command: '-PT0M'},// DO NOT Localize
+		{label: '', command: '-P1D'}, // Do NOT Localize
+		{label: '', command: '-P36H'}, // Do NOT Localize
+		{label: '', command: '-P2D'}, // Do NOT Localize
+		{label: '', command: '-P60H'}, // Do NOT Localize	
+		{label: '', command: '-P3D'}, // Do NOT Localize
+		{label: '', command: '-P84H'}, // Do NOT Localize
+		{label: '', command: '-P4D'}, // Do NOT Localize
+		{label: '', command: '-P5D'}, // Do NOT Localize
+		{label: '', command: '-P6D'}, // Do NOT Localize			
+		{label: '', command: '-P1W'}, // Do NOT Localize
+		{label: '', command: '-P2W'}, // Do NOT Localize
+		{label: '', command: '-P3W'}, // Do NOT Localize
+		{label: '', command: '-P4W'}, // Do NOT Localize
+		{label: '', command: '-P8W'}, // Do NOT Localize
+		{label: '', command: '-P12W'}, // Do NOT Localize
+		{label: '', command: '-P16W'}, // Do NOT Localize
+		{label: '', command: '-P20W'}, // Do NOT Localize
+		{label: '', command: '-P24W'}, // Do NOT Localize
+		{label: '', command: '-P52W'} // Do NOT Localize
 	]
 });
\ No newline at end of file
diff --git a/usr/palm/applications/com.palm.app.calendar/app/controllers/reminder-assistant.js b/usr/palm/applications/com.palm.app.calendar/app/controllers/reminder-assistant.js
index d190fd1..0ac68a8 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/controllers/reminder-assistant.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/controllers/reminder-assistant.js
@@ -1,7 +1,35 @@
 /* Copyright 2009 Palm, Inc.  All rights reserved. */
 
+g_notificationRepeatCount = 0;
 
 var ReminderAssistant = Class.create({
+
+	snoozeDurationOptions: [
+		{label:$L('30 Minutes before start'), value:'-30'},
+		{label:$L('15 Minutes before start'), value:'-15'},
+		{label:$L('10 Minutes before start'), value:'-10'},
+		{label:$L('5 Minutes before start'), value:'-5'},
+		{label:$L('At start time'), value:'0'},
+		{label:$L('5 Minutes'), value:'5'},
+		{label:$L('10 Minutes'), value:'10'},
+		{label:$L('15 Minutes'), value:'15'},
+		{label:$L('30 Minutes'), value:'30'},
+		{label:$L('1 Hour'), value:'60'},
+		{label:$L('2 Hours'), value:'120'},
+		{label:$L('4 Hours'), value:'240'},
+		{label:$L('8 Hours'), value:'480'},
+		{label:$L('10 Hours'), value:'600'},
+		{label:$L('12 Hours'), value:'720'},
+		{label:$L('1 Day'), value:'1440'},
+		{label:$L('2 Days'), value:'2880'},
+		{label:$L('3 Days'), value:'4320'},
+		{label:$L('4 Days'), value:'5760'},
+		{label:$L('5 Days'), value:'7200'},
+		{label:$L('6 Days'), value:'8640'},
+		{label:$L('1 Week'), value:'10080'},
+		{label:$L('2 Weeks'), value:'20160'}
+	],
+
 	initialize: function(eventId,needThrobbing) {
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant initialize: start: "+eventId);
 		this.DEFAULT_SNOOZE = 5;
@@ -14,6 +42,72 @@ var ReminderAssistant = Class.create({
 		this.doThrob =needThrobbing;
 		this.autoSnoozed = false;
 		
+		//get default snooze duration from cookie
+		this.cookie = new Mojo.Model.Cookie("com.palm.app.calendar.defaultsnoozeduration");
+
+		if (this.cookie) {
+			var cookie = this.cookie.get();
+			if (cookie) {
+				if(cookie.defaultSnoozeDuration) {
+					this.DEFAULT_SNOOZE = parseInt(cookie.defaultSnoozeDuration);
+				} else {
+					this.DEFAULT_SNOOZE = -15;
+				}
+			}
+		}
+
+		//load the notification repeat preferences.
+		//doing this here instead of in initialze to avoid conflict with snooze duration patch
+		//get notification repeat interval and max repeat values from cookie
+		this.notificationCookie = new Mojo.Model.Cookie("com.palm.app.calendar.notificationrepeat");
+		if (this.notificationCookie) {
+			var notificationCookie = this.notificationCookie.get();
+			if (notificationCookie) {
+				if(notificationCookie.notificationRepeatInterval) {
+					this.notificationRepeatInterval = notificationCookie.notificationRepeatInterval;
+				} else {
+					//set default value to 2 minutes
+					this.notificationRepeatInterval = '2';
+				}
+			
+				if(notificationCookie.notificationMaxRepeat) {
+					this.notificationMaxRepeat = notificationCookie.notificationMaxRepeat;
+				} else {
+					//set default value to unlimited
+					this.notificationMaxRepeat = '99999';
+				}
+			}
+		}
+
+		//logic to not pic a default snooze that has already past
+
+		//set the snoozeOptions to the master set otherwise as we remove items we also remove them
+		//for any additonal reminders.
+		this.snoozeOptions = this.snoozeDurationOptions.slice(0);
+
+		this.reminder = this.reminders.getReminder(this.eventId);
+		
+		var curDate = new Date();
+		var defSnooze = this.snoozeOptions[0].value;
+		
+		var testDate = new Date(this.reminder.time).addMinutes(defSnooze);
+		
+		while(testDate <= curDate && defSnooze <= 0)
+		{
+			//remove the invalid option
+			var tmp = this.snoozeOptions.shift();
+	
+			defSnooze = parseInt(this.snoozeOptions[0].value);
+
+			testDate = new Date(this.reminder.time).addMinutes(defSnooze);
+		}
+
+		//if the DEFAULT_SNOOZE < defSnooze then it is no longer a valid snooze option so use the next valide value
+		if( this.DEFAULT_SNOOZE < defSnooze )
+		{
+			this.DEFAULT_SNOOZE = defSnooze;
+		}
+
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant initialize:end");
 	},
 
@@ -27,6 +121,36 @@ var ReminderAssistant = Class.create({
 	},
 	
 	setup: function() {
+		
+		// prepare an additional widget (on the fly to prevent editing of translated resources)
+		var newDiv1 = document.createElement('div');
+		var newDiv2 = document.createElement('div');
+		var newDiv3 = document.createElement('div');
+		var newDiv4 = document.createElement('div');
+		newDiv1.setAttribute('class', "palm-list");
+		newDiv2.setAttribute('class', "palm-row last");
+		newDiv2.setAttribute('style', "margin-top:15px;");
+		newDiv2.setAttribute('x-mojo-tap-highlight', "momentary");
+		newDiv3.setAttribute('class', "palm-row-wrapper");
+		newDiv4.setAttribute('id', "snoozeSelector");
+		newDiv4.setAttribute('x-mojo-element', "ListSelector");
+		newDiv1.appendChild(newDiv2);
+		newDiv2.appendChild(newDiv3);
+		newDiv3.appendChild(newDiv4);
+		this.controller.topContainer().appendChild(newDiv1);
+
+		//setup the snooze duration selector list
+		this.selectorChoices = this.snoozeOptions;
+		this.selectorAttributes = { label: "Snooze Duration", labelPlacement: "left", choices: this.selectorChoices, modelProperty:'value' };
+
+		//Need to figure out how to remember previous selected snooze value.
+		//set the default duration to match the default snooze value
+		this.selectorModel = {value:'' + this.DEFAULT_SNOOZE};
+		this.selectorModel.value = '' + this.DEFAULT_SNOOZE;
+		this.controller.setupWidget('snoozeSelector', this.selectorAttributes, this.selectorModel);
+
+		this.onSnoozeDurationChangedHandler = this.onSnoozeDurationChanged.bindAsEventListener(this);
+
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant setup:start");
 		this.service = getCalendarService();
 
@@ -43,6 +167,10 @@ var ReminderAssistant = Class.create({
     
 	cleanup: function() {
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant cleanup:start:");
+
+		//store the reminders in a cookie so they survive reboot		
+		this.reminders.saveReminders();
+
 		this.reminders.stopObservingReminders('alert');
 		
 		getAppAssistant().openReminderAlert = null;
@@ -60,6 +188,9 @@ var ReminderAssistant = Class.create({
 			}
 		}
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant cleanup:end:");
+
+		//remove the Notification repeat task
+		this.removePlayAlarmSoundTask();
 	},
 	
 	remindersUpdated: function() {
@@ -95,6 +226,9 @@ var ReminderAssistant = Class.create({
 		this.scheduleAutoCloseTask();
 		this.updateDisplay();
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant updateMostRecentReminder:end");
+
+		//setup the notification repeat task
+		this.schedulePlayAlarmSoundTask();
 	},
 
 	updateDisplay: function() {
@@ -150,6 +284,9 @@ var ReminderAssistant = Class.create({
 		
 		this.controller.get('reminder-dismiss').addEventListener(Mojo.Event.tap, this.onDismissHandler);
 		this.controller.get('reminder-snooze').addEventListener(Mojo.Event.tap, this.onSnoozeHandler);
+
+		//add snoozeDuration event listners
+		this.controller.get('snoozeSelector').addEventListener(Mojo.Event.propertyChange, this.onSnoozeDurationChangedHandler);
 	},
 
 	removeListeners: function() {
@@ -167,6 +304,10 @@ var ReminderAssistant = Class.create({
 		if (email) email.removeEventListener(Mojo.Event.tap, this.onEmailHandler);
 		var snooze = this.controller.get('reminder-snooze');
 		if (snooze) snooze.removeEventListener(Mojo.Event.tap, this.onSnoozeHandler);
+
+		//remove snoozeDuration event listners
+		var snoozeDuration = this.controller.get('snoozeSelector');
+		if (snoozeDuration) snoozeDuration.removeEventListener(Mojo.Event.propertyChange, this.onSnoozeDurationChangedHandler);
 	},
 	
 	
@@ -307,6 +448,23 @@ var ReminderAssistant = Class.create({
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant onSnooze: end: " + this.reminder.id);
 	},
 	
+	/* handle the change event for the snooze duration.
+	 * set the default snooze value to the selection value
+	 * need to figure out how to save this value for reuse when the snooze duration
+	 * expires so that we can set the selection to the same value prevously selected
+	 */
+	onSnoozeDurationChanged: function(value) {
+		Mojo.Log.info("$$$$$$$$ Reminder-assistant onSnoozeDurationChanged: start: " + this.reminder.id);
+		this.DEFAULT_SNOOZE = this.selectorModel.value;
+		this.snoozed =true;
+		this.closeAlert();
+		this.autoSnoozed = false;
+		this.reminder.userClosed = true;
+		this.reminder.scheduleStartTime = true;
+		this.reissueAutoSnoozedAlerts();
+		Mojo.Log.info("$$$$$$$$ Reminder-assistant onSnoozeDurationChanged: end: " + this.reminder.id);
+	},
+
 	removeReminder: function() {
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant removeReminder: start: " + this.reminder.id);
 		this.reminders.removeReminder(this.reminder.id);
@@ -342,13 +500,23 @@ var ReminderAssistant = Class.create({
 			return;
 		}	
 		
-		var snooze = new Date().addMinutes(minutes);
+		var snooze;
+		if( minutes > 0 )
+		{
+			snooze = new Date().addMinutes(minutes);
+		}
+		else
+		{
+			snooze = new Date(this.reminder.time).addMinutes(minutes);
+		}
+		
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant snooze: updateTask: calendar-snooze-" + this.reminder.id + "   date = " + snooze.toUTCString());
+/*		
 		
 		this.controller.serviceRequest('palm://com.palm.taskScheduler', {
 					                    method: 'updateTask',
 					                    parameters: {uri: 'palm://com.palm.applicationManager/open',
-													 arguments: {'id': 'com.palm.app.calendar',
+													 arguments: {'id': 'com.palm.app.calendar2',
 													 			 'params': {'alarmsnooze': this.reminder.id}},
 													 key: 'calendar-snooze-' + this.reminder.id,
 													 start: {date: snooze.toUTCString()},
@@ -356,6 +524,34 @@ var ReminderAssistant = Class.create({
 													 misfirePolicy: {executeNow: true}}
 					                	});
 
++*/
+
+		//use a powered/timeout alarm so that the reminder survives a reboot
+		var alarmLaunchParams = '{"id":"com.palm.app.calendar","params":{"alarmsnooze":"' + this.reminder.id + '"}}';
+
+		var newParams = alarmLaunchParams.evalJSON();
+		newParams.params.id = this.reminder.id;
+
+		var newParamsJSON = Object.toJSON(newParams);
+
+		var at = this.dateFormatForScheduler(snooze);
+
+        this.controller.serviceRequest("luna://com.palm.power/timeout/", {
+			method: "set",
+			parameters: {
+				"wakeup": true,
+				"key": 'calendar-snooze-' + this.reminder.id,
+				"uri": "luna://com.palm.applicationManager/launch",
+				"params": newParamsJSON,
+				"at": at
+			},
+			onSuccess: function(payload) {
+				Mojo.Log.info("****************** Reminder-assistant snooze succeeded. ");
+			}.bind(this),
+			onFailure: function() {
+				Mojo.Log.error("****************** Reminder-assistant snooze failed: " );
+			}.bind(this)
+		});
 
 		var templateModel = {};
 		var templateStr = $L("Snoozed for #{num} minutes");
@@ -374,6 +570,11 @@ var ReminderAssistant = Class.create({
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant closeAlert: window.close() ");
 		this.controller.window.close();
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant closeAlert: end ");
+		
+		//reset the notification repeat counter
+		if( this.dismissed || this.snoozed ) {
+			g_notificationRepeatCount = 0;
+		}
 	},
 	
 	autoCloseAlert: function() {
@@ -383,6 +584,13 @@ var ReminderAssistant = Class.create({
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant autoCloseAlert: end " + this.reminder.id);
 	},
 	
+	playAlarmSound: function() {
+		//temporarily set the snooze to 0 will immediately re-trigger allert to get our attention.
+		this.dismissed = false;
+		this.DEFAULT_SNOOZE = 0;
+		this.closeAlert();
+	},
+
 	specialCleanup:function(){
 		//we need to do this so that cleanup cleans the reminder rightaway		
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant specialCleanup: window Name:" + this.controller.window.name);
@@ -402,7 +610,18 @@ var ReminderAssistant = Class.create({
 					                	});
 	},
 	
+	//taken from com.palm.app.clock/app/models/alarm.js
+	// returns date in format suitable for scheduler service
+	dateFormatForScheduler: function(d) {
+		function twoChars(x) { return ((x>9)?"":"0")+x; }
+		
+		return twoChars(d.getUTCMonth()+1) + "/" + twoChars(d.getUTCDate()) + "/" + twoChars(d.getUTCFullYear()) 
+					+ " " + twoChars(d.getUTCHours()) + ":" + twoChars(d.getUTCMinutes()) + ":00" 
+	},
+	
 	scheduleAutoCloseTask: function() {
+//disable autoclose, we want to know what we missed.
+return;	
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant scheduleAutoCloseTask: start " + this.reminder.id);
 		var minCloseTime = new Date(this.reminder.time).addMinutes(15);
 		var closeTime = new Date(this.reminder.time + this.reminder.duration);
@@ -432,6 +651,34 @@ var ReminderAssistant = Class.create({
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant removeAutoCloseTask: end " + this.reminder.id);
 	},
 	
+	schedulePlayAlarmSoundTask: function() {
+		//retrigger reminder every X minutes until we acknowledge it.
+		//notificationRepeatInterval disables the notification repeat
+		//also check to make sure we have not exceeded the max repeat value
+		if( parseFloat(this.notificationRepeatInterval) != 0 && g_notificationRepeatCount < parseInt(this.notificationMaxRepeat)) {
+			g_notificationRepeatCount++;
+			
+			var playSoundTime = new Date();
+			playSoundTime = new Date(playSoundTime.getTime() + parseFloat(this.notificationRepeatInterval)*60*1000);
+
+			this.controller.serviceRequest('palm://com.palm.taskScheduler', {
+				method: 'updateTask',
+				parameters: {uri: 'palm://com.palm.applicationManager/open',
+				arguments: {'id': 'com.palm.app.calendar',
+						'params': {'playalarmsound': 'true'}},
+				key: 'calendar-playalarmsound',
+				start: {date: playSoundTime.toUTCString()}}
+			});
+		}
+	},
+
+	removePlayAlarmSoundTask: function() {
+		this.controller.serviceRequest('palm://com.palm.taskScheduler', {
+			method: 'removeTask',
+			parameters: {key: 'calendar-playalarmsound'}
+		});
+	},
+
   	replaceHTML: function(element, content) {
 		Mojo.Log.info("$$$$$$$$ Reminder-assistant replaceHTML:start");
       	var range = element.ownerDocument.createRange();
diff --git a/usr/palm/applications/com.palm.app.calendar/app/controllers/week-assistant.js b/usr/palm/applications/com.palm.app.calendar/app/controllers/week-assistant.js
index 217a467..d93b2be 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/controllers/week-assistant.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/controllers/week-assistant.js
@@ -8,11 +8,15 @@ var WeekAssistant = Class.create({
 		this.appMenuModel = { visible:true, 
 									label:$L('Calendar'), 
 									items: [ Mojo.Menu.editItem,
+											{label:$L('New'), items: [{label:$L('Event'), shortcut:'n', command:'newtimed', disabled:false},
+	                													{label:$L('All day event'), shortcut:'d', command:'newallday', disabled:false}] 
+											},
 											{label:$L('Sync Now'), command:'sync', id: 0},
 											{label:$L('Show today'), command:'today', id: 1},
 											{label:$L('Jump to...'), command:'jumpto', id: 2},
 											{label:$L('Missed reminders...'), command:'reminders', id: 3},
 											{label:$L('Preferences & Accounts'), command:Mojo.Menu.prefsCmd, checkEnabled: true},
+											this.enhancedMenuItem = {label:$L('Enhanced View'), command:'enhanced', chosen: true},
 											{label:$L('Help'), command:Mojo.Menu.helpCmd, disabled:false}]
 								};
 
@@ -42,6 +46,15 @@ var WeekAssistant = Class.create({
 		this.COL_POS = [0, 45, 91, 137, 183, 229, 275];
 		this.pendingRender = false;
 		this.pendingCalendarSettingsUpdate = false;
+		this.imgAlarm = new Image();
+		this.imgAlarm.src = "/media/internal/scrims/ubercalendar/alarm-icon.png";
+		this.imgIcons = new Object();
+		this.ALL_DAY_HEIGHT = 12;
+		this.enhancedView = false;
+		var cookie = new Mojo.Model.Cookie('WeekViewEnhanced');
+		if (cookie !== undefined) {
+			this.enhancedView = cookie.get();
+		}
 	},
 					
 	getEventChangeCallback: function(response) {
@@ -80,6 +93,32 @@ var WeekAssistant = Class.create({
 		}
 	},
 	
+	clearEventsTapHandlers: function() {
+		if(this.eventsTapHandler !== undefined) {
+			this.eventsTapHandler.deactivate();
+			this.eventsTapHandler.removeAllHandlers();
+			// clear and hide canvas
+			this.evtapcontext.clearRect( 0, 0, 320, 850)
+			this.evtap.hide();
+		}
+	},
+	
+	whichDayCol: function (x) {
+		// determine which day column is tapped
+		var X = x;
+		var dayCol = null;
+		if (X) {
+			if ((X >= 0) && (X < 45)) {dayCol=0;}
+			else if ((X >= 45) && (X < 91))	{dayCol=1;}
+			else if ((X >= 91) && (X < 137)) {dayCol=2;}
+			else if ((X >= 137) && (X < 183)) {dayCol=3;}
+			else if ((X >= 183) && (X < 229)) {dayCol=4;}
+			else if ((X >= 229) && (X < 275)) {dayCol=5;}
+			else if ((X >= 275) && (X < 320)) {dayCol=6;}
+		}
+		return dayCol;
+	},
+	
 	isWeekDisplayed: function(week) {
 		var weekDateKey = this.keyFromDate(week);
 		var thisWeek = this.getFirstDayOfWeek(getCurrentDateTime());
@@ -103,10 +142,12 @@ var WeekAssistant = Class.create({
 	buildWeekTitle: function() {
 		var today = Date.today().clearTime();
 		var dayOfWeek = this.getFirstDayOfWeek(this.weekDate);
+		var weekNumber = new Date(this.weekDate).getISO8601Week();
 		
-		var template = new Template($L("Week of #{dateStr}"));
+		var template = new Template($L("Week") + " #{weekStr}, " + $L("#{dateStr}"));
 		var templateModel = {};
 		templateModel.dateStr = Mojo.Format.formatDate(dayOfWeek, $L("MMM d, yyyy"));
+		templateModel.weekStr = weekNumber;
 		this.title.innerHTML = template.evaluate(templateModel);
 		
 		if (this.changingWeeks)
@@ -341,8 +382,8 @@ var WeekAssistant = Class.create({
 							   endDay.getTime(), 
 							   this.getEventsCallback.bind(this), 
 							   this.controller,
-							   this.getEventsFailCallback.bind(this),
-							   {useSlices: true}));
+							   this.getEventsFailCallback.bind(this)/*,
+							   {useSlices: true}*/));
 	},
 	
 	updateAll: function() {
@@ -353,8 +394,8 @@ var WeekAssistant = Class.create({
 						   endOfWeek.getTime(), 
 						   this.getEventsCallback.bind(this), 
 						   this.controller,
-						   this.getEventsFailCallback.bind(this),
-						   {useSlices: true}));
+						   this.getEventsFailCallback.bind(this)/*,
+						   {useSlices: true}*/));
 	},
 	
 	getEventsFailCallback: function(response) {
@@ -373,6 +414,13 @@ var WeekAssistant = Class.create({
 		var startPos = this.startDayMarkerPos * this.HOUR_HEIGHT - 1;
 		var midPos = this.midDayMarkerPos * this.HOUR_HEIGHT - 1;
 		var endPos = this.endDayMarkerPos * this.HOUR_HEIGHT - 1;
+		
+		for (var i=1; i<24; i++) {
+			ctx.fillStyle = "rgb(185, 185, 185)";
+			ctx.fillRect(0, i * this.HOUR_HEIGHT - 1, 320, 1);
+			ctx.fillStyle = "rgb(255, 255, 255)";
+			ctx.fillRect(0, i * this.HOUR_HEIGHT, 320, 1);
+		}
 
 		// Draw marker lines
 		ctx.fillStyle = "rgb(135, 135, 134)";
@@ -388,7 +436,27 @@ var WeekAssistant = Class.create({
 	
 	renderStartEndDayLabels: function(whichWeek) {
 		var ctx = this.weeks[whichWeek].ctxEvents;
-		
+
+		// Draw marker labels
+		ctx.fillStyle = "rgb(0, 0, 0)";
+		ctx.font = "bold 14px Prelude";
+
+		if (getTimeFormat() == 'HH24') {
+			for (var i=2; i<24; i+=2) {
+				var endPos = i * this.HOUR_HEIGHT - 1;
+				ctx.strokeText(i, 12, endPos + 24);
+			}
+		} else {
+			for (var i=2; i<12; i+=2) {
+				var endPos = i * this.HOUR_HEIGHT - 1;
+				ctx.strokeText(i + " AM", 12, endPos + 24);
+			}
+			for (var i=0; i<12; i+=2) {
+				var endPos = (i + 12) * this.HOUR_HEIGHT - 1;
+				ctx.strokeText(i + " PM", 12, endPos + 24);
+			}
+		}
+		/*
 		var startPos = this.startDayMarkerPos * this.HOUR_HEIGHT - 1;
 		var midPos = this.midDayMarkerPos * this.HOUR_HEIGHT - 1;
 		var endPos = this.endDayMarkerPos * this.HOUR_HEIGHT - 1;
@@ -401,6 +469,7 @@ var WeekAssistant = Class.create({
 		if (this.midDayMarkerPos != this.startDayMarkerPos && this.midDayMarkerPos != this.endDayMarkerPos)
 			ctx.strokeText(this.midDayMarkerTime, 12, midPos + 24);
 		ctx.strokeText(this.endDayMarkerTime, 17, endPos + 24);
+		*/
 	},
 	
 	renderEmptyWeek: function(whichWeek) {
@@ -488,8 +557,94 @@ var WeekAssistant = Class.create({
 		
 		ctx.fillStyle = "rgba(255, 255, 255, 0.10)";
 		ctx.fillRect(left+1, top+height-3, width-2, 1);
+		
+		if ((event.subject === undefined) && this.enhancedView) {
+			// get more infos for this event
+			getCalendarService().getEvent(event.id,
+					this.getEventDetails.bind(this, whichWeek, whichDay, event),
+					function(response) {Mojo.Log.error(response.errorText);},
+					this.controller);
+		} else if (this.enhancedView){
+			// eventsTap handlers if not from highlight render (fromDefaultTap)
+			if ((!this.fromDefaultTap) && (whichWeek == this.THIS_WEEK)) {
+				var right = left+width;
+				var bottom = top + height;
+				this.eventsTapHandler.addHandler(left,
+													top,
+													right,
+													bottom,
+													this.handleEventsTap.bind(this, event),
+													this.showSelectedEventsTap.bind(this, left, top, width, height),
+													this.clearSelectedEventsTap.bind(this, left, top, width, height),
+													null,
+													null,
+													null,
+													null);
+			}
+			// Subject
+			ctx.fillStyle = this.colors[event.calendarColor].text;
+			ctx.font = "10px Prelude";
+			var oldAlign = ctx.textAlign;
+			var oldBaseline = ctx.textBaseline;
+			ctx.textAlign = "left";
+			ctx.textBaseline = "top";
+			
+			var text = event.subject;
+			if (text !== undefined) {
+				var length = text.length;
+				var metrics = ctx.measureText(text);
+				while ((metrics.width > eventMaxWidth-3) && (length > 0)) {
+					// too large, try one less
+					length--;
+					text = text.substring(0, length);
+					metrics = ctx.measureText(text);
+				}
+				ctx.fillText(text, left+2, top+1);
+				top += 12
+				if (text.length < event.subject.length) {
+					var text = event.subject.substring(text.length);
+					var length = text.length;
+					var metrics = ctx.measureText(text);
+					while ((metrics.width > eventMaxWidth-3) && (length > 0)) {
+						// too large, try one less
+						length--;
+						text = text.substring(0, length);
+						metrics = ctx.measureText(text);
+					}
+					ctx.fillText(text, left+2, top+1);
+					top += 12
+				}
+			}
+			// Alarm
+			if ((event.alarm !== undefined) && (event.alarm != "none")) {
+				try{ ctx.drawImage(this.imgAlarm, left+1, top+2, 12, 12); }catch (e) {}
+			}
+			// Icon
+			if (event.note !== undefined) {
+				try {
+					var start = event.note.indexOf("ICON=");
+					if (start > -1) {
+						start += 5;
+						var end = event.note.indexOf(";");
+						if (end > start) {
+							var icon = event.note.substring(start, end);
+							ctx.drawImage(this.imgIcons[icon], left+13, top+2, 12, 12);
+						}
+					}
+				} catch(e) {}
+			}
+			ctx.textAlign = oldAlign;
+			ctx.textBaseline = oldBaseline;
+		}
 	},
-	
+
+	getEventDetails: function(whichWeek, whichDay, event, details) {
+		event.subject = details.subject;
+		event.alarm = details.alarm;
+		event.note = details.note;
+		this.renderEvent(whichWeek, whichDay, event);
+	},
+
 	renderBusyTime: function(whichWeek, whichDay, busy) {
 		var ctx = this.weeks[whichWeek].ctxEvents;
 		var marginLeft = 1;
@@ -508,17 +663,91 @@ var WeekAssistant = Class.create({
 	renderAllDayEvent: function(whichWeek, whichDay, row, allday) {
 		var ctx = this.weeks[whichWeek].ctxAllDay;
 		var marginLeft = 4;
-		var top = 2 + row * 9;
+		var top = 2 + row * this.ALL_DAY_HEIGHT;
 		var left = this.COL_POS[whichDay] + marginLeft;
-		ctx.drawImage(this.colors[allday.calendarColor].allday, left, top);
+		var eventMaxWidth = this.COL_WIDTH[whichDay] - marginLeft - marginLeft;
+		ctx.drawImage(this.colors[allday.calendarColor].allday, left, top, eventMaxWidth, this.ALL_DAY_HEIGHT);
+
+		if ((allday.subject === undefined) && this.enhancedView) {
+			// get more infos for this event
+			getCalendarService().getEvent(allday.id,
+					this.getAllDayEventDetails.bind(this, whichWeek, whichDay, row, allday),
+					function(response) {Mojo.Log.error(response.errorText);},
+					this.controller);
+		} else if (this.enhancedView) {
+			// Subject
+			ctx.fillStyle = this.colors[allday.calendarColor].text;
+			ctx.font = "9px Prelude";
+			var oldAlign = ctx.textAlign;
+			var oldBaseline = ctx.textBaseline;
+			ctx.textAlign = "left";
+			ctx.textBaseline = "top";
+			
+			var text = allday.subject;
+			if (text !== undefined) {
+				if ( text.charAt(text.length -1) == ")") {
+					try {
+						var start = allday.subject.indexOf("(");
+						if (start > -1) {
+							var end = allday.subject.length;
+							if ((end > start) && ( end - start <= 13)) {
+								var text = allday.subject.substring(start, end-1);
+							}
+						}
+					} catch(e) {}
+					ctx.fillText(text, left, top);
+				} else {
+					var length = text.length;
+					var metrics = ctx.measureText(text);
+					while ((metrics.width > eventMaxWidth) && (length > 0)) {
+						// too large, try one less
+						length--;
+						text = text.substring(0, length);
+						metrics = ctx.measureText(text);
+					}
+					ctx.fillText(text, left, top);
+				}
+			}
+			// Alarm
+			if ((allday.alarm !== undefined) && (allday.alarm != "none")) {
+				try{ ctx.drawImage(this.imgAlarm, left+eventMaxWidth-4, top+2, 10, 10); }catch (e) {}
+			}
+			// Icon
+			if (allday.note !== undefined) {
+				try {
+					var start = allday.note.indexOf("ICON=");
+					if (start > -1) {
+						start += 5;
+						var end = allday.note.indexOf(";");
+						if (end > start) {
+							var icon = allday.note.substring(start, end);
+							ctx.drawImage(this.imgIcons[icon], left+eventMaxWidth-14, top+2, 10, 10);
+						}
+					}
+				} catch(e) {}
+			}
+			ctx.textAlign = oldAlign;
+			ctx.textBaseline = oldBaseline;
+		}
 	},
 	
+	getAllDayEventDetails: function(whichWeek, whichDay, row, event, details) {
+		//Mojo.Log.error(Object.toJSON(details));
+		event.subject = details.subject;
+		event.alarm = details.alarm;
+		event.note = details.note;
+		this.renderAllDayEvent(whichWeek, whichDay, row, event);
+	},
 	
 	renderWeek: function(whichWeek, data) {
 		this.renderEmptyWeek(whichWeek);
 		
 		if ((data == null) || (data.days == null))
 			return;
+
+		if ((whichWeek==this.THIS_WEEK) && (this.enhancedView) && (!this.fromDefaultTap)){
+			this.clearEventsTapHandlers();
+		}
 		
 		// Erase any existing all day events and any selection highlighting
 		if (this.weeks[whichWeek].alldayHeight) {
@@ -548,8 +777,9 @@ var WeekAssistant = Class.create({
 		if(maxRows > 5)
 			maxRows = 5;
 			
-		this.weeks[whichWeek].alldayHeight = maxRows ? maxRows * 9 + 3 : 0;
+		this.weeks[whichWeek].alldayHeight = maxRows ? maxRows * this.ALL_DAY_HEIGHT + 3 : 0;
 		this.updateWeekHeight(whichWeek);
+		var eventCount = 0;
 		
 		for (var whichDay = 0; whichDay < 7; whichDay++) {
 			var day = data.days[whichDay];
@@ -570,6 +800,7 @@ var WeekAssistant = Class.create({
 			
 			// Events
 			for (i = 0; i < day.events.length; i++) {
+				if (whichWeek == this.THIS_WEEK) {eventCount += 1;}
 				this.renderEvent(whichWeek, whichDay, day.events[i]);
 			}
 		}
@@ -585,6 +816,13 @@ var WeekAssistant = Class.create({
     		ctxAllDay.fillRect(x+1, 0, 1, this.weeks[whichWeek].alldayHeight);
 		}
 		
+		if ((whichWeek == this.THIS_WEEK) && (this.enhancedView) && (!this.fromDefaultTap)){
+			if (eventCount > 0){
+				this.eventsTapHandler.setDefaultHandler(this.handleDefaultEventsTap.bind(this), null, null);
+								this.eventsTapHandler.activate();
+				this.evtap.show();
+			}
+		}
 		this.renderStartEndDayLabels(whichWeek);
 	},
 	
@@ -612,6 +850,23 @@ var WeekAssistant = Class.create({
 		this.currentDay = this.controller.get('wv_current_day');
 		this.scrollMakerPos = this.controller.get('wv_scroll_marker');
 		this.scrollDataDiv = this.controller.get('wv_scroll_data');
+
+		this.imgIcons.birthday = new Image();
+		this.imgIcons.birthday.src = "/media/internal/scrims/ubercalendar/icon-birthday.png";
+		this.imgIcons.car = new Image();
+		this.imgIcons.car.src = "/media/internal/scrims/ubercalendar/icon-car.png";
+		this.imgIcons.kids = new Image();
+		this.imgIcons.kids.src = "/media/internal/scrims/ubercalendar/icon-kids.png";
+		this.imgIcons.doctor = new Image();
+		this.imgIcons.doctor.src = "/media/internal/scrims/ubercalendar/icon-doctor.png";
+		this.imgIcons.plane = new Image();
+		this.imgIcons.plane.src = "/media/internal/scrims/ubercalendar/icon-plane.png";
+		this.imgIcons.holiday = new Image();
+		this.imgIcons.holiday.src = "/media/internal/scrims/ubercalendar/icon-holiday.png";
+		this.imgIcons.vacation = new Image();
+		this.imgIcons.vacation.src = "/media/internal/scrims/ubercalendar/icon-vacation.png";
+		this.imgIcons.party = new Image();
+		this.imgIcons.party.src = "/media/internal/scrims/ubercalendar/icon-party.png";
 		
 		this.weeks = [];
 		this.weeks = [];
@@ -708,25 +963,56 @@ var WeekAssistant = Class.create({
 		this.menuModel = {
 			visible:true,
 			items: [ 
-						{},
+						{label: $L('Event'), icon: 'new-timed', command: 'newtimed'},
 						{	label:$L('Views'), 
 							toggleCmd:'week', 
 							items:[
+								{label:$L('Agenda'), icon: 'menu-agenda', command:'agenda'},
 								{label:$L('Day'), icon: 'menu-day', command:'day'}, 
 								{label:$L('Week'), icon: 'menu-week', command:'week'}, 
 								{label:$L('Month'), icon: 'menu-month', command:'month'}
 								]},
-						{},
+						{label: $L('All day event'), icon: 'new-allday', command: 'newallday'},
 					]
 			};
 			
 		this.controller.setupWidget(Mojo.Menu.commandMenu, undefined, this.menuModel);
+		this.enhancedMenuItem.chosen = this.enhancedView;
 		this.controller.setupWidget(Mojo.Menu.appMenu, {omitDefaultItems:true}, this.appMenuModel);
 		this.remindersUpdated(); 	// Update missed reminders menu item
+
+		var cookie = new Mojo.Model.Cookie("LastView");
+		cookie.put("week");
 		
     	this.CalSelectorHandler = this.calSelector.bindAsEventListener(this);
 		
 		this.scrolling = 0;
+		//this.getCalId = DayAssistant.getCalId();
+		
+		//Used to detect gesture area hold
+		this.metaKeyDown = false;
+		
+		//used to copy Event
+		this.copyEvt = null;
+		this.handleEditEventsCallBack = this.editEventsCallBack.bind(this);
+		this.fromEditEventsCallBack = false;
+		//setup canvas for eventsTap
+		if (this.enhancedView) {
+			// insert canvas element
+			var container = this.controller.get('wv_eventsDay1');
+			evtapcanvas = document.createElement('canvas');
+			evtapcanvas.id = 'eventsTap';
+			evtapcanvas.width  = 320;
+			evtapcanvas.height = 850;
+			container.appendChild(evtapcanvas);
+			this.evtap = this.controller.get('eventsTap');
+			this.evtapcontext = this.controller.get('eventsTap').getContext('2d');
+			// initially hide events tap canvas
+			this.evtap.hide();
+			//setup events taphandler
+			this.fromDefaultTap = false;
+			this.eventsTapHandler = new TapHandler(this.controller.get('eventsTap'));
+		}
 	},
   
 	showJumpTo: function() {
@@ -776,6 +1062,12 @@ var WeekAssistant = Class.create({
 			} else if (event.command == Mojo.Menu.prefsCmd) {
 				Event.stop(event);
 				this.controller.stageController.pushScene('prefs');
+			} else if(event.command =="newtimed"){
+				Event.stop(event);
+				this.controller.stageController.pushScene('edit', 0, 0, false, this.getCalId()/*calendarId*/,0/*subject*/, false, this.handleEditEventsCallBack);
+			} else if(event.command=="newallday"){
+				Event.stop(event);
+				this.controller.stageController.pushScene('edit', 0, 0, true, this.getCalId(),0/*subject*/, false, this.handleEditEventsCallBack);
 			} else if(event.command == Mojo.Menu.helpCmd){
 				getAppManagerService().launchHelp(this.controller);
 			} else if (event.command == 'sync') {
@@ -788,14 +1080,35 @@ var WeekAssistant = Class.create({
 			}else if (event.command == 'jumpto') {
 				Event.stop(event);
 				this.showJumpTo();
+			} else if (event.command == 'enhanced') {
+				Event.stop(event);
+				this.enhancedView = !this.enhancedView;
+				var cookie = new Mojo.Model.Cookie('WeekViewEnhanced');
+				cookie.put(this.enhancedView);
+				this.enhancedMenuItem.chosen = this.enhancedView;
+				this.controller.modelChanged(this.appMenuModel);
 			} else if (event.command == 'reminders') {
 				Event.stop(event);
 				this.controller.stageController.pushScene('reminder-list');
+			} else if (event.command == 'agenda') {
+				Event.stop(event);
+				this.controller.serviceRequest('palm://com.palm.applicationManager', {
+					method: 'launch',
+					parameters: {
+						id: 'com.palm.app.agenda'
+					}
+				});
+				this.menuModel.items[1].toggleCmd = 'week';
+				this.controller.modelChanged(this.menuModel, this);
 			}				
 		}
 		else if(event.type == Mojo.Event.commandEnable && event.command == Mojo.Menu.prefsCmd) {
 			// Enable prefs menuitem for this scene.
 			event.stopPropagation();
+		} else if (event.type == Mojo.Event.back) {
+			event.preventDefault();
+			event.stopPropagation();
+			this.handleMonthView();
 		}
 	},
 	
@@ -895,8 +1208,8 @@ var WeekAssistant = Class.create({
 								   this.getLastDayOfWeek(beginWeekNoTime).getTime(), 
 								   this.getEventsCallback.bind(this), 
 								   this.controller,
-								   this.getEventsFailCallback.bind(this),
-								   {useSlices: true}));
+								   this.getEventsFailCallback.bind(this)/*,
+								   {useSlices: true}*/));
 				this.renderEmptyWeek(this.PREV_WEEK);
 			}
 			this.resetPos();
@@ -937,8 +1250,8 @@ var WeekAssistant = Class.create({
 								   this.getLastDayOfWeek(beginWeekNoTime).getTime(), 
 								   this.getEventsCallback.bind(this), 
 								   this.controller,
-								   this.getEventsFailCallback.bind(this),
-								   {useSlices: true}));
+								   this.getEventsFailCallback.bind(this)/*,
+								   {useSlices: true}*/));
 				this.renderEmptyWeek(this.NEXT_WEEK);
 			}
 			this.resetPos();
@@ -970,6 +1283,18 @@ var WeekAssistant = Class.create({
 		this.eventHandler.activate();
 		this.allDayEventHandler.activate();
 		
+		// eventsTap handler & KeyHandler only activate if enhancedview
+		if (this.enhancedView) {
+			if(this.fromEditEventsCallBack == true) { observeCurrentDateTime('week', this);}
+			this.eventsTapHandler.activate();
+			// key handlers for event meta tap and event canvas
+			this.keyUpHandler = this.handleKeyUp.bind(this);
+			this.controller.listen(this.controller.sceneElement, Mojo.Event.keyup, this.keyUpHandler);
+		
+			this.keyDownHandler = this.handleKeyDown.bind(this);
+			this.controller.listen(this.controller.sceneElement, Mojo.Event.keydown, this.keyDownHandler);
+		}
+		
 		// Calendar Header
 		this.headerTapHandler = this.showJumpTo.bindAsEventListener(this);
 		this.controller.get('wv_view_header').observe(Mojo.Event.tap, this.headerTapHandler);
@@ -998,12 +1323,126 @@ var WeekAssistant = Class.create({
 		this.eventHandler.deactivate();
 		this.allDayEventHandler.deactivate();
 		
+		//deactivate eventsTap & key handlers
+		if (this.enhancedView) {
+			this.eventsTapHandler.deactivate();
+			// key handlers for event meta tap and event canvas
+			this.controller.stopListening(this.controller.sceneElement, Mojo.Event.keyup, this.keyUpHandler);
+			this.controller.stopListening(this.controller.sceneElement, Mojo.Event.keydown, this.keyDownHandler);
+		}
+		
 		this.controller.get('wv_view_header').stopObserving(Mojo.Event.tap, this.headerTapHandler);
     	this.controller.get('wv_calendar_source').stopObserving(Mojo.Event.tap, this.CalSelectorHandler);
 		this.clearCacheSubscribed();
 		stopObservingCurrentDateTime('week');
 	},
 	
+	// *** EVENT HANDLERS ***
+	
+	handleKeyUp: function(event) {
+		// getsure area up
+		if (event.originalEvent.metaKey || event.originalEvent.keyCode === 231) {
+		//Mojo.Log.info("handleKeyUp detected gesture up key");
+			this.metaKeyDown = false;
+		}		
+	},
+	
+	handleKeyDown: function(event) {
+		// getsure area down
+		if (event.originalEvent.metaKey || event.originalEvent.keyCode === 231) {
+    	//Mojo.Log.info("handleKeyUp detected gesture key");
+			this.metaKeyDown = true;
+		}		
+	},
+	
+	copiedEvent: function(response) {
+		//copied event saved open in edit scene
+		if(this.copyEvt) {
+			if(response.id == this.copyEvt.id || this.copyEvt.id == undefined || this.copyEvt.id.match(response.id)) {
+	  
+				// NOTE: Event Ids are strings NOT longs
+				if (this.copyEvt.id == undefined)	this.copyEvt.id = response.id + "";	// Do NOT Localize
+				this.controller.stageController.pushScene('edit', this.copyEvt.id, new Date(this.copyEvt.startTimestamp), false, this.copyEvt.calendarId, this.copyEvt.subject, false, this.handleEditEventsCallBack);
+			}
+		}
+	},
+	
+	handleEventsTap: function(event, tapEvent) {
+		//copied event saved open in edit scene
+		Event.stop(tapEvent);
+		this.fromDefaultTap = false;
+		if (this.metaKeyDown == true) {
+			//create new from old
+			var start = new Date();
+			start.set({	minute: 0, second: 0, millisecond: 0 });
+			var startTS = start.getTime(); //set it up on today's current hour
+			var duration = event.end - event.start;
+			var endTS = startTS + duration;
+			this.metaKeyDown = false;
+			var tfParams = {
+						subject: event.subject,
+						allday: false,
+						location: event.location,
+						startTimestamp: startTS,
+						endTimestamp: endTS,
+						note: event.note
+						};
+			this.copyEvt = new CalendarEvent(tfParams);
+			this.copyEvt.calendarId = event.calendarId;
+			getCalendarService().setEvent(this.copyEvt, 
+								this.copiedEvent.bind(this),
+								this.controller,
+								function(response) {Mojo.Log.error(response.errorText)});
+		} else {
+			if(event.id) {
+			this.controller.stageController.pushScene('edit', event.id, new Date(event.startTimestamp), false, event.calendarId, event.subject, false, this.handleEditEventsCallBack);
+			}
+		}
+	},
+	
+	editEventsCallBack: function() {
+		// something happened in edit scene render week
+		this.fromDefaultTap = false;
+		var beginWeekNoTime = this.getFirstDayOfWeek(getCurrentDateTime()).set({hour: 0, minute: 0, second: 0, millisecond: 0});
+		var week = this.getFromCache(beginWeekNoTime.getTime());
+		this.renderWeek(this.THIS_WEEK, week);
+		this.fromEditEventsCallBack = true;
+	},
+	
+	handleDefaultEventsTap: function(event, x, y) {
+		// no eventsTap handler in this space, find col run tapHandler
+		Event.stop(event);
+		if (this.metaKeyDown == true) {
+			// nothing to copy here reset metakeydown
+			this.metaKeyDown = false;
+		}
+		if (x); {
+			var col = this.whichDayCol(x);
+			this.fromDefaultTap = true;
+			this.showSelectedHandler(col);
+			this.tapHandler(col);
+			this.selectedCol = -1;
+		}
+	},
+	
+	showSelectedEventsTap: function(left, top, width, height) {
+		// eventsTap handler highlight event
+		if ((left) && (top) && (width) && (height)) {
+			// draw shade on event
+			var selectedColor = "rgba(2, 2, 2, 0.25)";
+			this.evtapcontext.fillStyle = selectedColor;
+			this.evtapcontext.fillRect(left, top, width, height);
+		}
+	},
+	
+	clearSelectedEventsTap: function(left, top, width, height) {
+		// no eventsTap handler, clear highlight day tapHandler
+		if ((left) && (top) && (width) && (height)) {
+			// clear shade on event
+			this.evtapcontext.clearRect(left, top, width, height);
+		}
+	},
+	
   	showSelectedHandler: function(col) {
 		this.selectedCol = col;
 		
@@ -1021,6 +1460,12 @@ var WeekAssistant = Class.create({
   	},
 	
   	tapHandler: function(col) {
+		// see if meta tap is active
+		if (this.metaKeyDown == true) {
+			// should not do anything here with a meta + tap
+			this.metaKeyDown = false;
+			//return;
+		}
 		var dayofweek= this.getFirstDayOfWeek(getCurrentDateTime());
 		dayofweek.addDays(col);
 			
@@ -1102,6 +1547,28 @@ var WeekAssistant = Class.create({
 	getFromCache: function(weekDate) {
 		return WeekAssistant.weekCache.get(this.keyFromDate(weekDate));
 	},	
+	getCalId :function(){
+		var defaultCalId;
+		if (getCurrentCal() == 'all') {
+			// Create an event in the calendar specified by the defaultCalId preference
+			defaultCalId = getPrefsManager().getDefaultCalendar();
+			
+			if (defaultCalId == 0) {
+				defaultCalId = getCalendarsManager().getLocalCalendarId();
+			}
+			
+			// Check to see if the calendarId is a valid one
+			if (getCalendarsManager().getCalName("id"+defaultCalId) == undefined) {
+				// The default calendar doesn't exist anymore so let's just create it
+				// in Local
+				defaultCalId = getCalendarsManager().getLocalCalendarId();
+			}
+			
+		}else{
+			defaultCalId =getCurrentCal();
+		}
+		return "id"+defaultCalId;
+	},
 	
 	isCacheEntrySubscribed: function(weekDate) {
 		return WeekAssistant.cacheSubscribed.get(this.keyFromDate(weekDate));
diff --git a/usr/palm/applications/com.palm.app.calendar/app/models/calendar-luna-service.js b/usr/palm/applications/com.palm.app.calendar/app/models/calendar-luna-service.js
index 13176a6..11c7c57 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/models/calendar-luna-service.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/models/calendar-luna-service.js
@@ -264,6 +264,7 @@ var CalendarMojoService = Class.create( {
 	},
 
 	setEvent: function(targetEvent, callback, sceneController, failure) {
+//Mojo.Log.error('setEvent', Object.toJSON(targetEvent));
 		if(!targetEvent.rrule || targetEvent.rrule=="")
 			targetEvent.endValidity = 0;
 		else if(targetEvent.rrule && targetEvent.rrule!="" && targetEvent.isRecurringForever ==true)
@@ -287,7 +288,7 @@ var CalendarMojoService = Class.create( {
 		
 	},
 	updateEvent: function(targetEvent, callback, sceneController, failure) {
-		
+//Mojo.Log.error(Object.toJSON('updateEvent', targetEvent));
 		return sceneController.serviceRequest(CalendarMojoService.identifier, {
 			method: 'updateEvent',
 			parameters: targetEvent,
diff --git a/usr/palm/applications/com.palm.app.calendar/app/models/formatter_service.js b/usr/palm/applications/com.palm.app.calendar/app/models/formatter_service.js
index ead7ff3..f95ee78 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/models/formatter_service.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/models/formatter_service.js
@@ -157,10 +157,6 @@ Formatter = Class.create({
 					val = $L('1 day before');
 					break;
 					
-				case '-P1D':
-					val = $L('1 day before');
-					break;
-					
 				case '-P2D':
 					val = $L('2 days before');
 					break;
diff --git a/usr/palm/applications/com.palm.app.calendar/app/models/reminder-manager.js b/usr/palm/applications/com.palm.app.calendar/app/models/reminder-manager.js
index c2619fe..a9fa2f4 100644
--- a/usr/palm/applications/com.palm.app.calendar/app/models/reminder-manager.js
+++ b/usr/palm/applications/com.palm.app.calendar/app/models/reminder-manager.js
@@ -7,6 +7,35 @@ var ReminderManager = Class.create ({
 		
 		this.observers = new Hash();
 		this.reminders = [];
+
+		//////////////////////////
+		//Reload reminders
+		try
+		{
+			this.cookie = new Mojo.Model.Cookie("com.palm.app.calendar.reminders");
+
+			if (this.cookie) 
+			{
+				var cookie = this.cookie.get();
+				
+				if (cookie) 
+				{			
+					if(cookie.reminders)
+					{
+						this.reminders = cookie.reminders;
+					}
+				}
+			}
+		}
+		catch(err)
+		{
+			console.error("Error: ReminderManager initialize: Failed to read cookie.");
+		}
+		
+
+		//update the event remider data
+		this.getAllReminderEventData();
+		//////////////
 		
 		this.eventChangeRequest = new Mojo.Service.Request('palm://com.palm.calendar', {
 					                    method: 'getEventChange',
@@ -23,9 +52,7 @@ var ReminderManager = Class.create ({
 		Mojo.Log.info("$$$$$$$$ Reminder-manager cleanup: end ");
 	},
 	
-	getEventChangeCallback: function(response) {
-		Mojo.Log.info("$$$$$$$$ Reminder-manager getEventChangeCallback:start ");
-		if (response.changed) {
+	getAllReminderEventData: function() {
 			// Get the event for each reminder since it may have changed
 		    window.setTimeout(function() {
 				this.requests = [];
@@ -39,6 +66,12 @@ var ReminderManager = Class.create ({
 					}));
 				}
 		    }.bind(this), 0.01);
+	}, 
+	
+	getEventChangeCallback: function(response) {
+		Mojo.Log.info("$$$$$$$$ Reminder-manager getEventChangeCallback:start ");
+		if (response.changed) {
+			this.getAllReminderEventData();
 		}
 		Mojo.Log.info("$$$$$$$$ Reminder-manager getEventChangeCallback:end ");
 	},
@@ -254,6 +287,15 @@ var ReminderManager = Class.create ({
 				sceneController.remindersUpdated();
 		});
 		Mojo.Log.info("$$$$$$$$ Reminder-manager notifyObservers: end");
+	},
+	
+	saveReminders: function() {
+		//store the current reminders
+		//so that we can persist them across reboot
+		if (this.cookie)
+		{
+			this.cookie.put({reminders: this.reminders});
+		}
 	}
 	
 });
diff --git a/usr/palm/applications/com.palm.app.calendar/javascripts/datejs/week.js b/usr/palm/applications/com.palm.app.calendar/javascripts/datejs/week.js
new file mode 100644
index 0000000..501c299
--- /dev/null
+++ b/usr/palm/applications/com.palm.app.calendar/javascripts/datejs/week.js
@@ -0,0 +1,44 @@
+Date.prototype.getWeek = function() {
+	var date = new Date(this);
+	var year = date.getFullYear();
+	var month = date.getMonth();
+	var day = date.getDate();
+	
+	var when = new Date(year,month,day);
+	var newYear = new Date(year,0,1);
+	var modDay = newYear.getDay();
+
+	if(this.startDay != 1)
+		if (modDay == 0) modDay=6; else modDay--;
+
+	var daynum = ((Date.UTC(year,when.getMonth(),when.getDate(),0,0,0) -
+		Date.UTC(year,0,1,0,0,0)) /1000/60/60/24) + 1;
+
+	if (modDay < 4 ) {
+		var weekno = Math.floor((daynum+modDay-1)/7)+1;
+	}
+	else {
+		var weekno = Math.floor((daynum+modDay-1)/7);
+	
+		if (weekno == 0) {
+			year--;
+		
+			var prevNewYear = new Date(year,0,1);
+			var prevmodDay = prevNewYear.getDay();
+			if (prevmodDay == 0) prevmodDay = 6; else prevmodDay--;
+			if (prevmodDay < 4) weekno = 53; else weekno = 52;
+		}
+	}
+
+	return weekno;
+};
+
+Date.prototype.getISO8601Week = function() {
+	var d = new Date(this);
+	d.setUTCDate(d.getUTCDate() - (d.getUTCDay() + 6) % 7 + 3);
+	var ms = d.valueOf();
+	d.setUTCMonth(0, 4);
+	var w = Math.round((ms - d.valueOf()) / 604800000) + 1;
+	if (w <= 9) { w = "0" + w; }
+	return w;
+};
diff --git a/usr/palm/applications/com.palm.app.calendar/sources.json b/usr/palm/applications/com.palm.app.calendar/sources.json
index 3beec78..9741133 100644
--- a/usr/palm/applications/com.palm.app.calendar/sources.json
+++ b/usr/palm/applications/com.palm.app.calendar/sources.json
@@ -3,6 +3,9 @@
     "source": "javascripts\/datejs\/date.js"
   },
   {
+    "source": "javascripts\/datejs\/week.js"
+  },
+  {
     "source": "javascripts\/recurrence-rule.js"
   },
   {
diff --git a/usr/palm/applications/com.palm.app.calendar/stylesheets/calendar.css b/usr/palm/applications/com.palm.app.calendar/stylesheets/calendar.css
index f30cb63..adee3f7 100644
--- a/usr/palm/applications/com.palm.app.calendar/stylesheets/calendar.css
+++ b/usr/palm/applications/com.palm.app.calendar/stylesheets/calendar.css
@@ -59,6 +59,18 @@ body {
 		background-image: url(../images/menu-icon-day.png);
 }
 
+.palm-menu-icon.new-timed{
+		background-image: url(../images/menu-icon-newevent.png);
+}
+
+.palm-menu-icon.new-allday {
+		background-image: url(../images/menu-icon-today.png);
+}
+
+.palm-menu-icon.menu-agenda {
+		background-image: url(/media/internal/scrims/ubercalendar/menu-icon-agenda.png);
+}
+
 .palm-menu-icon.edit {
 		background-image: url(../images/menu-icon-compose.png);
 }
diff --git a/usr/palm/applications/com.palm.app.calendar/stylesheets/datetime.css b/usr/palm/applications/com.palm.app.calendar/stylesheets/datetime.css
index d49522c..604ee2a 100644
--- a/usr/palm/applications/com.palm.app.calendar/stylesheets/datetime.css
+++ b/usr/palm/applications/com.palm.app.calendar/stylesheets/datetime.css
@@ -101,8 +101,44 @@ div.list-separator 		{
 .item_selected {
 		font-weight: bold;
 }				
-
-
+#DPscrol {
+	height:220px;
+}
+#DPscrolct {
+	position: relative;
+	width:1566;
+	height: 220px;
+}
+.DPmv {
+	position: absolute;
+	display: block;
+	width: 240px;
+}
+#DPmonth_0 {
+	left: 40px;
+	border-right:1px solid black;
+	border-left:1px solid black;
+}
+#DPmonth_1{
+	left: 281px;
+	border-right:1px solid black;
+}
+#DPmonth_2 {
+	left: 522px;
+	border-right:1px solid black;
+}
+#DPmonth_3 {
+	left: 763px;
+	border-right:1px solid black;
+}
+#DPmonth_4 {
+	left: 1004px;
+	border-right:1px solid black;
+}
+#DPmonth_5 {
+	left: 1245px;
+	border-right:1px solid black;
+}
 #dtl_allday_cb .checkbox {
 	margin-right:0px;
 }
@@ -115,13 +151,30 @@ div.list-separator 		{
 .calendar-dtl-timedate .icon.timedate {
 	background: url(../images/calendar-dtl/timedate-icon.png) center center no-repeat;
 }
-
+.popCanvas .palm-button
+{
+background-image:url('../images/notification-large-calendar.png');
+}
+.popCanvas .palm-button.selected
+{
+background-image:url('../images/notification-large.png');
+}
+.popCanvas .palm-button {
+	padding: 0px;
+	width: 50px;
+	height: 50px;
+	vertical-align: bottom;
+	margin-top: 0px;
+	margin-left: -1px;
+	margin-right: 0px;
+	margin-bottom: 0px;
+   -webkit-border-image: none; 
+}
 /*Reduce top and bottom padding to fit more on the screen*/
 
 .calendar-dtl-timedate .title.datetime-picker {
-  padding: 0 10px 7px 14px;
+  padding: 0px 1px 4px 4px;
 }
-
 .calendar-dtl-timedate .palm-row.all-day-event .title {
   padding-bottom: 0px;
   margin-bottom: -5px;
diff --git a/usr/palm/applications/com.palm.app.calendar/stylesheets/event-colors.css b/usr/palm/applications/com.palm.app.calendar/stylesheets/event-colors.css
index 3b455df..a350808 100644
--- a/usr/palm/applications/com.palm.app.calendar/stylesheets/event-colors.css
+++ b/usr/palm/applications/com.palm.app.calendar/stylesheets/event-colors.css
@@ -15,15 +15,26 @@ Copyright 2009 Palm, Inc.  All rights reserved.
 */
 
 /* Month View: busy time */
-.monthview-busy-time.cal-color-blue 				{ background: url(../images/month-busy-time-blue.png) 0 0 fixed repeat; }
-.monthview-busy-time.cal-color-green 				{ background: url(../images/month-busy-time-green.png) 0 0 fixed repeat; }
-.monthview-busy-time.cal-color-yellow 				{ background: url(../images/month-busy-time-yellow.png) 0 0 fixed repeat; }
-.monthview-busy-time.cal-color-gray 				{ background: url(../images/month-busy-time-gray.png) 0 0 fixed repeat; }
-.monthview-busy-time.cal-color-orange 				{ background: url(../images/month-busy-time-orange.png) 0 0 fixed repeat; }
-.monthview-busy-time.cal-color-pink 				{ background: url(../images/month-busy-time-pink.png) 0 0 fixed repeat; }
-.monthview-busy-time.cal-color-red 					{ background: url(../images/month-busy-time-red.png) 0 0 fixed repeat; }
-.monthview-busy-time.cal-color-purple 				{ background: url(../images/month-busy-time-purple.png) 0 0 fixed repeat; }
-.monthview-busy-time.cal-color-teal 				{ background: url(../images/month-busy-time-teal.png) 0 0 fixed repeat; }
+.monthview-busy-time.cal-color-blue 				{ background: url(../images/month-busy-time-blue.png) right 0 fixed repeat-y; }
+.monthview-busy-time.cal-color-green 				{ background: url(../images/month-busy-time-green.png) right 0 fixed repeat-y; }
+.monthview-busy-time.cal-color-yellow 				{ background: url(../images/month-busy-time-yellow.png) right 0 fixed repeat-y; }
+.monthview-busy-time.cal-color-gray 				{ background: url(../images/month-busy-time-gray.png) right 0 fixed repeat-y; }
+.monthview-busy-time.cal-color-orange 				{ background: url(../images/month-busy-time-orange.png) right 0 fixed repeat-y; }
+.monthview-busy-time.cal-color-pink 				{ background: url(../images/month-busy-time-pink.png) right 0 fixed repeat-y; }
+.monthview-busy-time.cal-color-red 					{ background: url(../images/month-busy-time-red.png) right 0 fixed repeat-y; }
+.monthview-busy-time.cal-color-purple 				{ background: url(../images/month-busy-time-purple.png) right 0 fixed repeat-y; }
+.monthview-busy-time.cal-color-teal 				{ background: url(../images/month-busy-time-teal.png) right 0 fixed repeat-y; }
+
+/* Month View: partly busy time */
+.monthview-partly-busy-time.cal-color-blue 			{ background: url(../images/month-busy-time-blue.png) left center fixed no-repeat; }
+.monthview-partly-busy-time.cal-color-green 		{ background: url(../images/month-busy-time-green.png) left center fixed no-repeat; }
+.monthview-partly-busy-time.cal-color-yellow 		{ background: url(../images/month-busy-time-yellow.png) left center fixed no-repeat; }
+.monthview-partly-busy-time.cal-color-gray 			{ background: url(../images/month-busy-time-gray.png) left center fixed no-repeat; }
+.monthview-partly-busy-time.cal-color-orange 		{ background: url(../images/month-busy-time-orange.png) left center fixed no-repeat; }
+.monthview-partly-busy-time.cal-color-pink 			{ background: url(../images/month-busy-time-pink.png) left center fixed no-repeat; }
+.monthview-partly-busy-time.cal-color-red 			{ background: url(../images/month-busy-time-red.png) left center fixed no-repeat; }
+.monthview-partly-busy-time.cal-color-purple 		{ background: url(../images/month-busy-time-purple.png) left center fixed no-repeat; }
+.monthview-partly-busy-time.cal-color-teal 			{ background: url(../images/month-busy-time-teal.png) left center fixed no-repeat; }
 
 /* Week View: Events */
 .wv_event.cal-color-blue,
diff --git a/usr/palm/applications/com.palm.app.calendar/stylesheets/month.css b/usr/palm/applications/com.palm.app.calendar/stylesheets/month.css
index cafffaf..8dcc09b 100644
--- a/usr/palm/applications/com.palm.app.calendar/stylesheets/month.css
+++ b/usr/palm/applications/com.palm.app.calendar/stylesheets/month.css
@@ -124,12 +124,24 @@
 		float: left;
 }
 
+.monthview-partly-busy-time {
+		background: none;
+		background-image: url(../images/busy-time.png);
+		background-repeat: no-repeat;
+		background-attachment: fixed;
+		background-position: left center;
+		/*color: #FF0000;*/
+		width: 100%;
+		height: 16px;
+		float: left;
+}
+
 .monthview-busy-time {
 		background: none;
 		background-image: url(../images/busy-time.png);
-		background-repeat: repeat;
+		background-repeat: repeat-y;
 		background-attachment: fixed;
-		background-position: 0 0;
+		background-position: right 0;
 		/*color: #FF0000;*/
 		width: 100%;
 		height: 16px;
diff --git a/usr/palm/applications/com.palm.app.calendar/stylesheets/week.css b/usr/palm/applications/com.palm.app.calendar/stylesheets/week.css
index 729ae53..43397ad 100644
--- a/usr/palm/applications/com.palm.app.calendar/stylesheets/week.css
+++ b/usr/palm/applications/com.palm.app.calendar/stylesheets/week.css
@@ -125,6 +125,16 @@
 #wv_eventsDay1 {
 	left: 321px;
 }
+#eventsTap {
+	position: absolute;
+	top:0;
+	display:block;
+	border-right:1px solid black;
+/*  for debugging events Tap Canvas
+	border-top:3px solid red;
+	border-bottom:3px solid blue;
+*/
+}
 #wv_eventsDay2 {
 	left: 642px;
 }
